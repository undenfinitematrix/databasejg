(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function i(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(u){if(u.ep)return;u.ep=!0;const d=i(u);fetch(u.href,d)}})();function Ad(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var La={exports:{}},ii={},$a={exports:{}},ae={};var Xc;function qf(){if(Xc)return ae;Xc=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.iterator;function S(k){return k===null||typeof k!="object"?null:(k=C&&k[C]||k["@@iterator"],typeof k=="function"?k:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,P={};function N(k,A,re){this.props=k,this.context=A,this.refs=P,this.updater=re||T}N.prototype.isReactComponent={},N.prototype.setState=function(k,A){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,A,"setState")},N.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function B(){}B.prototype=N.prototype;function W(k,A,re){this.props=k,this.context=A,this.refs=P,this.updater=re||T}var z=W.prototype=new B;z.constructor=W,O(z,N.prototype),z.isPureReactComponent=!0;var Q=Array.isArray,de=Object.prototype.hasOwnProperty,ie={current:null},oe={key:!0,ref:!0,__self:!0,__source:!0};function me(k,A,re){var se,le={},ue=null,ge=null;if(A!=null)for(se in A.ref!==void 0&&(ge=A.ref),A.key!==void 0&&(ue=""+A.key),A)de.call(A,se)&&!oe.hasOwnProperty(se)&&(le[se]=A[se]);var fe=arguments.length-2;if(fe===1)le.children=re;else if(1<fe){for(var ve=Array(fe),Ye=0;Ye<fe;Ye++)ve[Ye]=arguments[Ye+2];le.children=ve}if(k&&k.defaultProps)for(se in fe=k.defaultProps,fe)le[se]===void 0&&(le[se]=fe[se]);return{$$typeof:s,type:k,key:ue,ref:ge,props:le,_owner:ie.current}}function Ce(k,A){return{$$typeof:s,type:k.type,key:A,ref:k.ref,props:k.props,_owner:k._owner}}function Ne(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function Je(k){var A={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(re){return A[re]})}var ft=/\/+/g;function Qe(k,A){return typeof k=="object"&&k!==null&&k.key!=null?Je(""+k.key):A.toString(36)}function ot(k,A,re,se,le){var ue=typeof k;(ue==="undefined"||ue==="boolean")&&(k=null);var ge=!1;if(k===null)ge=!0;else switch(ue){case"string":case"number":ge=!0;break;case"object":switch(k.$$typeof){case s:case r:ge=!0}}if(ge)return ge=k,le=le(ge),k=se===""?"."+Qe(ge,0):se,Q(le)?(re="",k!=null&&(re=k.replace(ft,"$&/")+"/"),ot(le,A,re,"",function(Ye){return Ye})):le!=null&&(Ne(le)&&(le=Ce(le,re+(!le.key||ge&&ge.key===le.key?"":(""+le.key).replace(ft,"$&/")+"/")+k)),A.push(le)),1;if(ge=0,se=se===""?".":se+":",Q(k))for(var fe=0;fe<k.length;fe++){ue=k[fe];var ve=se+Qe(ue,fe);ge+=ot(ue,A,re,ve,le)}else if(ve=S(k),typeof ve=="function")for(k=ve.call(k),fe=0;!(ue=k.next()).done;)ue=ue.value,ve=se+Qe(ue,fe++),ge+=ot(ue,A,re,ve,le);else if(ue==="object")throw A=String(k),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return ge}function pt(k,A,re){if(k==null)return k;var se=[],le=0;return ot(k,se,"","",function(ue){return A.call(re,ue,le++)}),se}function D(k){if(k._status===-1){var A=k._result;A=A(),A.then(function(re){(k._status===0||k._status===-1)&&(k._status=1,k._result=re)},function(re){(k._status===0||k._status===-1)&&(k._status=2,k._result=re)}),k._status===-1&&(k._status=0,k._result=A)}if(k._status===1)return k._result.default;throw k._result}var F={current:null},$={transition:null},q={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:$,ReactCurrentOwner:ie};function M(){throw Error("act(...) is not supported in production builds of React.")}return ae.Children={map:pt,forEach:function(k,A,re){pt(k,function(){A.apply(this,arguments)},re)},count:function(k){var A=0;return pt(k,function(){A++}),A},toArray:function(k){return pt(k,function(A){return A})||[]},only:function(k){if(!Ne(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},ae.Component=N,ae.Fragment=i,ae.Profiler=u,ae.PureComponent=W,ae.StrictMode=a,ae.Suspense=g,ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,ae.act=M,ae.cloneElement=function(k,A,re){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var se=O({},k.props),le=k.key,ue=k.ref,ge=k._owner;if(A!=null){if(A.ref!==void 0&&(ue=A.ref,ge=ie.current),A.key!==void 0&&(le=""+A.key),k.type&&k.type.defaultProps)var fe=k.type.defaultProps;for(ve in A)de.call(A,ve)&&!oe.hasOwnProperty(ve)&&(se[ve]=A[ve]===void 0&&fe!==void 0?fe[ve]:A[ve])}var ve=arguments.length-2;if(ve===1)se.children=re;else if(1<ve){fe=Array(ve);for(var Ye=0;Ye<ve;Ye++)fe[Ye]=arguments[Ye+2];se.children=fe}return{$$typeof:s,type:k.type,key:le,ref:ue,props:se,_owner:ge}},ae.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:d,_context:k},k.Consumer=k},ae.createElement=me,ae.createFactory=function(k){var A=me.bind(null,k);return A.type=k,A},ae.createRef=function(){return{current:null}},ae.forwardRef=function(k){return{$$typeof:p,render:k}},ae.isValidElement=Ne,ae.lazy=function(k){return{$$typeof:w,_payload:{_status:-1,_result:k},_init:D}},ae.memo=function(k,A){return{$$typeof:m,type:k,compare:A===void 0?null:A}},ae.startTransition=function(k){var A=$.transition;$.transition={};try{k()}finally{$.transition=A}},ae.unstable_act=M,ae.useCallback=function(k,A){return F.current.useCallback(k,A)},ae.useContext=function(k){return F.current.useContext(k)},ae.useDebugValue=function(){},ae.useDeferredValue=function(k){return F.current.useDeferredValue(k)},ae.useEffect=function(k,A){return F.current.useEffect(k,A)},ae.useId=function(){return F.current.useId()},ae.useImperativeHandle=function(k,A,re){return F.current.useImperativeHandle(k,A,re)},ae.useInsertionEffect=function(k,A){return F.current.useInsertionEffect(k,A)},ae.useLayoutEffect=function(k,A){return F.current.useLayoutEffect(k,A)},ae.useMemo=function(k,A){return F.current.useMemo(k,A)},ae.useReducer=function(k,A,re){return F.current.useReducer(k,A,re)},ae.useRef=function(k){return F.current.useRef(k)},ae.useState=function(k){return F.current.useState(k)},ae.useSyncExternalStore=function(k,A,re){return F.current.useSyncExternalStore(k,A,re)},ae.useTransition=function(){return F.current.useTransition()},ae.version="18.3.1",ae}var Zc;function nl(){return Zc||(Zc=1,$a.exports=qf()),$a.exports}var ed;function Hf(){if(ed)return ii;ed=1;var s=nl(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function h(p,g,m){var w,C={},S=null,T=null;m!==void 0&&(S=""+m),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(T=g.ref);for(w in g)a.call(g,w)&&!d.hasOwnProperty(w)&&(C[w]=g[w]);if(p&&p.defaultProps)for(w in g=p.defaultProps,g)C[w]===void 0&&(C[w]=g[w]);return{$$typeof:r,type:p,key:S,ref:T,props:C,_owner:u.current}}return ii.Fragment=i,ii.jsx=h,ii.jsxs=h,ii}var td;function Kf(){return td||(td=1,La.exports=Hf()),La.exports}var R=Kf(),Ve=nl();const Gf=Ad(Ve);var Cs={},Da={exports:{}},st={},Ua={exports:{}},za={};var rd;function Jf(){return rd||(rd=1,(function(s){function r($,q){var M=$.length;$.push(q);e:for(;0<M;){var k=M-1>>>1,A=$[k];if(0<u(A,q))$[k]=q,$[M]=A,M=k;else break e}}function i($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var q=$[0],M=$.pop();if(M!==q){$[0]=M;e:for(var k=0,A=$.length,re=A>>>1;k<re;){var se=2*(k+1)-1,le=$[se],ue=se+1,ge=$[ue];if(0>u(le,M))ue<A&&0>u(ge,le)?($[k]=ge,$[ue]=M,k=ue):($[k]=le,$[se]=M,k=se);else if(ue<A&&0>u(ge,M))$[k]=ge,$[ue]=M,k=ue;else break e}}return q}function u($,q){var M=$.sortIndex-q.sortIndex;return M!==0?M:$.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var g=[],m=[],w=1,C=null,S=3,T=!1,O=!1,P=!1,N=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z($){for(var q=i(m);q!==null;){if(q.callback===null)a(m);else if(q.startTime<=$)a(m),q.sortIndex=q.expirationTime,r(g,q);else break;q=i(m)}}function Q($){if(P=!1,z($),!O)if(i(g)!==null)O=!0,D(de);else{var q=i(m);q!==null&&F(Q,q.startTime-$)}}function de($,q){O=!1,P&&(P=!1,B(me),me=-1),T=!0;var M=S;try{for(z(q),C=i(g);C!==null&&(!(C.expirationTime>q)||$&&!Je());){var k=C.callback;if(typeof k=="function"){C.callback=null,S=C.priorityLevel;var A=k(C.expirationTime<=q);q=s.unstable_now(),typeof A=="function"?C.callback=A:C===i(g)&&a(g),z(q)}else a(g);C=i(g)}if(C!==null)var re=!0;else{var se=i(m);se!==null&&F(Q,se.startTime-q),re=!1}return re}finally{C=null,S=M,T=!1}}var ie=!1,oe=null,me=-1,Ce=5,Ne=-1;function Je(){return!(s.unstable_now()-Ne<Ce)}function ft(){if(oe!==null){var $=s.unstable_now();Ne=$;var q=!0;try{q=oe(!0,$)}finally{q?Qe():(ie=!1,oe=null)}}else ie=!1}var Qe;if(typeof W=="function")Qe=function(){W(ft)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,pt=ot.port2;ot.port1.onmessage=ft,Qe=function(){pt.postMessage(null)}}else Qe=function(){N(ft,0)};function D($){oe=$,ie||(ie=!0,Qe())}function F($,q){me=N(function(){$(s.unstable_now())},q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function($){$.callback=null},s.unstable_continueExecution=function(){O||T||(O=!0,D(de))},s.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ce=0<$?Math.floor(1e3/$):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_getFirstCallbackNode=function(){return i(g)},s.unstable_next=function($){switch(S){case 1:case 2:case 3:var q=3;break;default:q=S}var M=S;S=q;try{return $()}finally{S=M}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function($,q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var M=S;S=$;try{return q()}finally{S=M}},s.unstable_scheduleCallback=function($,q,M){var k=s.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?k+M:k):M=k,$){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=M+A,$={id:w++,callback:q,priorityLevel:$,startTime:M,expirationTime:A,sortIndex:-1},M>k?($.sortIndex=M,r(m,$),i(g)===null&&$===i(m)&&(P?(B(me),me=-1):P=!0,F(Q,M-k))):($.sortIndex=A,r(g,$),O||T||(O=!0,D(de))),$},s.unstable_shouldYield=Je,s.unstable_wrapCallback=function($){var q=S;return function(){var M=S;S=q;try{return $.apply(this,arguments)}finally{S=M}}}})(za)),za}var nd;function Qf(){return nd||(nd=1,Ua.exports=Jf()),Ua.exports}var id;function Yf(){if(id)return st;id=1;var s=nl(),r=Qf();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function d(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},C={};function S(e){return g.call(C,e)?!0:g.call(w,e)?!1:m.test(e)?C[e]=!0:(w[e]=!0,!1)}function T(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,t,n,o){if(t===null||typeof t>"u"||T(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function P(e,t,n,o,l,c,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=f}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){N[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];N[t]=new P(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){N[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){N[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){N[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){N[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){N[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){N[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){N[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function W(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(B,W);N[t]=new P(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(B,W);N[t]=new P(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(B,W);N[t]=new P(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){N[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),N.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){N[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function z(e,t,n,o){var l=N.hasOwnProperty(t)?N[t]:null;(l!==null?l.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O(t,n,l,o)&&(n=null),o||l===null?S(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,o=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var Q=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),ie=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),me=Symbol.for("react.strict_mode"),Ce=Symbol.for("react.profiler"),Ne=Symbol.for("react.provider"),Je=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),Qe=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),pt=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),$=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var M=Object.assign,k;function A(e){if(k===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||""}return`
`+k+e}var re=!1;function se(e,t){if(!e||re)return"";re=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(x){var o=x}Reflect.construct(e,[],t)}else{try{t.call()}catch(x){o=x}e.call(t.prototype)}else{try{throw Error()}catch(x){o=x}e()}}catch(x){if(x&&o&&typeof x.stack=="string"){for(var l=x.stack.split(`
`),c=o.stack.split(`
`),f=l.length-1,v=c.length-1;1<=f&&0<=v&&l[f]!==c[v];)v--;for(;1<=f&&0<=v;f--,v--)if(l[f]!==c[v]){if(f!==1||v!==1)do if(f--,v--,0>v||l[f]!==c[v]){var y=`
`+l[f].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=f&&0<=v);break}}}finally{re=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?A(e):""}function le(e){switch(e.tag){case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return e=se(e.type,!1),e;case 11:return e=se(e.type.render,!1),e;case 1:return e=se(e.type,!0),e;default:return""}}function ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oe:return"Fragment";case ie:return"Portal";case Ce:return"Profiler";case me:return"StrictMode";case Qe:return"Suspense";case ot:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Je:return(e.displayName||"Context")+".Consumer";case Ne:return(e._context.displayName||"Context")+".Provider";case ft:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pt:return t=e.displayName||null,t!==null?t:ue(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return ue(e(t))}catch{}}return null}function ge(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(t);case 8:return t===me?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ve(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ye(e){var t=ve(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(f){o=""+f,c.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(f){o=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kt(e){e._valueTracker||(e._valueTracker=Ye(e))}function yi(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=ve(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function Pe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $t(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ir(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=fe(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ol(e,t){t=t.checked,t!=null&&z(e,"checked",t,!1)}function Fs(e,t){ol(e,t);var n=fe(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ws(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ws(e,t.type,fe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function al(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ws(e,t,n){(t!=="number"||Pe(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var wn=Array.isArray;function Lr(e,t,n,o){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&o&&(e[n].defaultSelected=!0)}else{for(n=""+fe(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,o&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Vs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ll(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(i(92));if(wn(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fe(n)}}function ul(e,t){var n=fe(t.value),o=fe(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function cl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dl(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dl(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wi,hl=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wi=wi||document.createElement("div"),wi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _n(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Sn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gd=["Webkit","ms","Moz","O"];Object.keys(Sn).forEach(function(e){Gd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sn[t]=Sn[e]})});function fl(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Sn.hasOwnProperty(e)&&Sn[e]?(""+t).trim():t+"px"}function pl(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,l=fl(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,l):e[n]=l}}var Jd=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hs(e,t){if(t){if(Jd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function Ks(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gs=null;function Js(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qs=null,$r=null,Dr=null;function gl(e){if(e=Wn(e)){if(typeof Qs!="function")throw Error(i(280));var t=e.stateNode;t&&(t=Fi(t),Qs(e.stateNode,e.type,t))}}function vl(e){$r?Dr?Dr.push(e):Dr=[e]:$r=e}function ml(){if($r){var e=$r,t=Dr;if(Dr=$r=null,gl(e),t)for(e=0;e<t.length;e++)gl(t[e])}}function yl(e,t){return e(t)}function wl(){}var Ys=!1;function _l(e,t,n){if(Ys)return e(t,n);Ys=!0;try{return yl(e,t,n)}finally{Ys=!1,($r!==null||Dr!==null)&&(wl(),ml())}}function kn(e,t){var n=e.stateNode;if(n===null)return null;var o=Fi(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var Xs=!1;if(p)try{var En={};Object.defineProperty(En,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",En,En),window.removeEventListener("test",En,En)}catch{Xs=!1}function Qd(e,t,n,o,l,c,f,v,y){var x=Array.prototype.slice.call(arguments,3);try{t.apply(n,x)}catch(I){this.onError(I)}}var bn=!1,_i=null,Si=!1,Zs=null,Yd={onError:function(e){bn=!0,_i=e}};function Xd(e,t,n,o,l,c,f,v,y){bn=!1,_i=null,Qd.apply(Yd,arguments)}function Zd(e,t,n,o,l,c,f,v,y){if(Xd.apply(this,arguments),bn){if(bn){var x=_i;bn=!1,_i=null}else throw Error(i(198));Si||(Si=!0,Zs=x)}}function gr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Sl(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kl(e){if(gr(e)!==e)throw Error(i(188))}function eh(e){var t=e.alternate;if(!t){if(t=gr(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,o=t;;){var l=n.return;if(l===null)break;var c=l.alternate;if(c===null){if(o=l.return,o!==null){n=o;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===n)return kl(l),e;if(c===o)return kl(l),t;c=c.sibling}throw Error(i(188))}if(n.return!==o.return)n=l,o=c;else{for(var f=!1,v=l.child;v;){if(v===n){f=!0,n=l,o=c;break}if(v===o){f=!0,o=l,n=c;break}v=v.sibling}if(!f){for(v=c.child;v;){if(v===n){f=!0,n=c,o=l;break}if(v===o){f=!0,o=c,n=l;break}v=v.sibling}if(!f)throw Error(i(189))}}if(n.alternate!==o)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function El(e){return e=eh(e),e!==null?bl(e):null}function bl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bl(e);if(t!==null)return t;e=e.sibling}return null}var xl=r.unstable_scheduleCallback,Tl=r.unstable_cancelCallback,th=r.unstable_shouldYield,rh=r.unstable_requestPaint,Re=r.unstable_now,nh=r.unstable_getCurrentPriorityLevel,eo=r.unstable_ImmediatePriority,Cl=r.unstable_UserBlockingPriority,ki=r.unstable_NormalPriority,ih=r.unstable_LowPriority,Rl=r.unstable_IdlePriority,Ei=null,At=null;function sh(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Ei,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:lh,oh=Math.log,ah=Math.LN2;function lh(e){return e>>>=0,e===0?32:31-(oh(e)/ah|0)|0}var bi=64,xi=4194304;function xn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ti(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,l=e.suspendedLanes,c=e.pingedLanes,f=n&268435455;if(f!==0){var v=f&~l;v!==0?o=xn(v):(c&=f,c!==0&&(o=xn(c)))}else f=n&~l,f!==0?o=xn(f):c!==0&&(o=xn(c));if(o===0)return 0;if(t!==0&&t!==o&&(t&l)===0&&(l=o&-o,c=t&-t,l>=c||l===16&&(c&4194240)!==0))return t;if((o&4)!==0&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-St(t),l=1<<n,o|=e[n],t&=~l;return o}function uh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ch(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,l=e.expirationTimes,c=e.pendingLanes;0<c;){var f=31-St(c),v=1<<f,y=l[f];y===-1?((v&n)===0||(v&o)!==0)&&(l[f]=uh(v,t)):y<=t&&(e.expiredLanes|=v),c&=~v}}function to(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ol(){var e=bi;return bi<<=1,(bi&4194240)===0&&(bi=64),e}function ro(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Tn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=n}function dh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-St(n),c=1<<l;t[l]=0,o[l]=-1,e[l]=-1,n&=~c}}function no(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-St(n),l=1<<o;l&t|e[o]&t&&(e[o]|=t),n&=~l}}var pe=0;function Pl(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Al,io,jl,Nl,Il,so=!1,Ci=[],Gt=null,Jt=null,Qt=null,Cn=new Map,Rn=new Map,Yt=[],hh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ll(e,t){switch(e){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":Cn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(t.pointerId)}}function On(e,t,n,o,l,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:c,targetContainers:[l]},t!==null&&(t=Wn(t),t!==null&&io(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function fh(e,t,n,o,l){switch(t){case"focusin":return Gt=On(Gt,e,t,n,o,l),!0;case"dragenter":return Jt=On(Jt,e,t,n,o,l),!0;case"mouseover":return Qt=On(Qt,e,t,n,o,l),!0;case"pointerover":var c=l.pointerId;return Cn.set(c,On(Cn.get(c)||null,e,t,n,o,l)),!0;case"gotpointercapture":return c=l.pointerId,Rn.set(c,On(Rn.get(c)||null,e,t,n,o,l)),!0}return!1}function $l(e){var t=vr(e.target);if(t!==null){var n=gr(t);if(n!==null){if(t=n.tag,t===13){if(t=Sl(n),t!==null){e.blockedOn=t,Il(e.priority,function(){jl(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ri(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ao(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);Gs=o,n.target.dispatchEvent(o),Gs=null}else return t=Wn(n),t!==null&&io(t),e.blockedOn=n,!1;t.shift()}return!0}function Dl(e,t,n){Ri(e)&&n.delete(t)}function ph(){so=!1,Gt!==null&&Ri(Gt)&&(Gt=null),Jt!==null&&Ri(Jt)&&(Jt=null),Qt!==null&&Ri(Qt)&&(Qt=null),Cn.forEach(Dl),Rn.forEach(Dl)}function Pn(e,t){e.blockedOn===t&&(e.blockedOn=null,so||(so=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ph)))}function An(e){function t(l){return Pn(l,e)}if(0<Ci.length){Pn(Ci[0],e);for(var n=1;n<Ci.length;n++){var o=Ci[n];o.blockedOn===e&&(o.blockedOn=null)}}for(Gt!==null&&Pn(Gt,e),Jt!==null&&Pn(Jt,e),Qt!==null&&Pn(Qt,e),Cn.forEach(t),Rn.forEach(t),n=0;n<Yt.length;n++)o=Yt[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<Yt.length&&(n=Yt[0],n.blockedOn===null);)$l(n),n.blockedOn===null&&Yt.shift()}var Ur=Q.ReactCurrentBatchConfig,Oi=!0;function gh(e,t,n,o){var l=pe,c=Ur.transition;Ur.transition=null;try{pe=1,oo(e,t,n,o)}finally{pe=l,Ur.transition=c}}function vh(e,t,n,o){var l=pe,c=Ur.transition;Ur.transition=null;try{pe=4,oo(e,t,n,o)}finally{pe=l,Ur.transition=c}}function oo(e,t,n,o){if(Oi){var l=ao(e,t,n,o);if(l===null)xo(e,t,o,Pi,n),Ll(e,o);else if(fh(l,e,t,n,o))o.stopPropagation();else if(Ll(e,o),t&4&&-1<hh.indexOf(e)){for(;l!==null;){var c=Wn(l);if(c!==null&&Al(c),c=ao(e,t,n,o),c===null&&xo(e,t,o,Pi,n),c===l)break;l=c}l!==null&&o.stopPropagation()}else xo(e,t,o,null,n)}}var Pi=null;function ao(e,t,n,o){if(Pi=null,e=Js(o),e=vr(e),e!==null)if(t=gr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Sl(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pi=e,null}function Ul(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nh()){case eo:return 1;case Cl:return 4;case ki:case ih:return 16;case Rl:return 536870912;default:return 16}default:return 16}}var Xt=null,lo=null,Ai=null;function zl(){if(Ai)return Ai;var e,t=lo,n=t.length,o,l="value"in Xt?Xt.value:Xt.textContent,c=l.length;for(e=0;e<n&&t[e]===l[e];e++);var f=n-e;for(o=1;o<=f&&t[n-o]===l[c-o];o++);return Ai=l.slice(e,1<o?1-o:void 0)}function ji(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function Ml(){return!1}function at(e){function t(n,o,l,c,f){this._reactName=n,this._targetInst=l,this.type=o,this.nativeEvent=c,this.target=f,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ni:Ml,this.isPropagationStopped=Ml,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),t}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=at(zr),jn=M({},zr,{view:0,detail:0}),mh=at(jn),co,ho,Nn,Ii=M({},jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:po,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nn&&(Nn&&e.type==="mousemove"?(co=e.screenX-Nn.screenX,ho=e.screenY-Nn.screenY):ho=co=0,Nn=e),co)},movementY:function(e){return"movementY"in e?e.movementY:ho}}),Bl=at(Ii),yh=M({},Ii,{dataTransfer:0}),wh=at(yh),_h=M({},jn,{relatedTarget:0}),fo=at(_h),Sh=M({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),kh=at(Sh),Eh=M({},zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bh=at(Eh),xh=M({},zr,{data:0}),Fl=at(xh),Th={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rh[e])?!!t[e]:!1}function po(){return Oh}var Ph=M({},jn,{key:function(e){if(e.key){var t=Th[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ji(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ch[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:po,charCode:function(e){return e.type==="keypress"?ji(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ji(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ah=at(Ph),jh=M({},Ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wl=at(jh),Nh=M({},jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:po}),Ih=at(Nh),Lh=M({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),$h=at(Lh),Dh=M({},Ii,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uh=at(Dh),zh=[9,13,27,32],go=p&&"CompositionEvent"in window,In=null;p&&"documentMode"in document&&(In=document.documentMode);var Mh=p&&"TextEvent"in window&&!In,Vl=p&&(!go||In&&8<In&&11>=In),ql=" ",Hl=!1;function Kl(e,t){switch(e){case"keyup":return zh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gl(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mr=!1;function Bh(e,t){switch(e){case"compositionend":return Gl(t);case"keypress":return t.which!==32?null:(Hl=!0,ql);case"textInput":return e=t.data,e===ql&&Hl?null:e;default:return null}}function Fh(e,t){if(Mr)return e==="compositionend"||!go&&Kl(e,t)?(e=zl(),Ai=lo=Xt=null,Mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vl&&t.locale!=="ko"?null:t.data;default:return null}}var Wh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wh[e.type]:t==="textarea"}function Ql(e,t,n,o){vl(o),t=zi(t,"onChange"),0<t.length&&(n=new uo("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Ln=null,$n=null;function Vh(e){pu(e,0)}function Li(e){var t=qr(e);if(yi(t))return e}function qh(e,t){if(e==="change")return t}var Yl=!1;if(p){var vo;if(p){var mo="oninput"in document;if(!mo){var Xl=document.createElement("div");Xl.setAttribute("oninput","return;"),mo=typeof Xl.oninput=="function"}vo=mo}else vo=!1;Yl=vo&&(!document.documentMode||9<document.documentMode)}function Zl(){Ln&&(Ln.detachEvent("onpropertychange",eu),$n=Ln=null)}function eu(e){if(e.propertyName==="value"&&Li($n)){var t=[];Ql(t,$n,e,Js(e)),_l(Vh,t)}}function Hh(e,t,n){e==="focusin"?(Zl(),Ln=t,$n=n,Ln.attachEvent("onpropertychange",eu)):e==="focusout"&&Zl()}function Kh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Li($n)}function Gh(e,t){if(e==="click")return Li(t)}function Jh(e,t){if(e==="input"||e==="change")return Li(t)}function Qh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:Qh;function Dn(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var l=n[o];if(!g.call(t,l)||!kt(e[l],t[l]))return!1}return!0}function tu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ru(e,t){var n=tu(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tu(n)}}function nu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iu(){for(var e=window,t=Pe();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Pe(e.document)}return t}function yo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yh(e){var t=iu(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&nu(n.ownerDocument.documentElement,n)){if(o!==null&&yo(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,c=Math.min(o.start,l);o=o.end===void 0?c:Math.min(o.end,l),!e.extend&&c>o&&(l=o,o=c,c=l),l=ru(n,c);var f=ru(n,o);l&&f&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),c>o?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xh=p&&"documentMode"in document&&11>=document.documentMode,Br=null,wo=null,Un=null,_o=!1;function su(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_o||Br==null||Br!==Pe(o)||(o=Br,"selectionStart"in o&&yo(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Un&&Dn(Un,o)||(Un=o,o=zi(wo,"onSelect"),0<o.length&&(t=new uo("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=Br)))}function $i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fr={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionend:$i("Transition","TransitionEnd")},So={},ou={};p&&(ou=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function Di(e){if(So[e])return So[e];if(!Fr[e])return e;var t=Fr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ou)return So[e]=t[n];return e}var au=Di("animationend"),lu=Di("animationiteration"),uu=Di("animationstart"),cu=Di("transitionend"),du=new Map,hu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zt(e,t){du.set(e,t),d(t,[e])}for(var ko=0;ko<hu.length;ko++){var Eo=hu[ko],Zh=Eo.toLowerCase(),ef=Eo[0].toUpperCase()+Eo.slice(1);Zt(Zh,"on"+ef)}Zt(au,"onAnimationEnd"),Zt(lu,"onAnimationIteration"),Zt(uu,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(cu,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tf=new Set("cancel close invalid load scroll toggle".split(" ").concat(zn));function fu(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,Zd(o,t,void 0,e),e.currentTarget=null}function pu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],l=o.event;o=o.listeners;e:{var c=void 0;if(t)for(var f=o.length-1;0<=f;f--){var v=o[f],y=v.instance,x=v.currentTarget;if(v=v.listener,y!==c&&l.isPropagationStopped())break e;fu(l,v,x),c=y}else for(f=0;f<o.length;f++){if(v=o[f],y=v.instance,x=v.currentTarget,v=v.listener,y!==c&&l.isPropagationStopped())break e;fu(l,v,x),c=y}}}if(Si)throw e=Zs,Si=!1,Zs=null,e}function _e(e,t){var n=t[Ao];n===void 0&&(n=t[Ao]=new Set);var o=e+"__bubble";n.has(o)||(gu(t,e,2,!1),n.add(o))}function bo(e,t,n){var o=0;t&&(o|=4),gu(n,e,o,t)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function Mn(e){if(!e[Ui]){e[Ui]=!0,a.forEach(function(n){n!=="selectionchange"&&(tf.has(n)||bo(n,!1,e),bo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ui]||(t[Ui]=!0,bo("selectionchange",!1,t))}}function gu(e,t,n,o){switch(Ul(t)){case 1:var l=gh;break;case 4:l=vh;break;default:l=oo}n=l.bind(null,t,n,e),l=void 0,!Xs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),o?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function xo(e,t,n,o,l){var c=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var f=o.tag;if(f===3||f===4){var v=o.stateNode.containerInfo;if(v===l||v.nodeType===8&&v.parentNode===l)break;if(f===4)for(f=o.return;f!==null;){var y=f.tag;if((y===3||y===4)&&(y=f.stateNode.containerInfo,y===l||y.nodeType===8&&y.parentNode===l))return;f=f.return}for(;v!==null;){if(f=vr(v),f===null)return;if(y=f.tag,y===5||y===6){o=c=f;continue e}v=v.parentNode}}o=o.return}_l(function(){var x=c,I=Js(n),L=[];e:{var j=du.get(e);if(j!==void 0){var V=uo,K=e;switch(e){case"keypress":if(ji(n)===0)break e;case"keydown":case"keyup":V=Ah;break;case"focusin":K="focus",V=fo;break;case"focusout":K="blur",V=fo;break;case"beforeblur":case"afterblur":V=fo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Ih;break;case au:case lu:case uu:V=kh;break;case cu:V=$h;break;case"scroll":V=mh;break;case"wheel":V=Uh;break;case"copy":case"cut":case"paste":V=bh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Wl}var G=(t&4)!==0,Oe=!G&&e==="scroll",E=G?j!==null?j+"Capture":null:j;G=[];for(var _=x,b;_!==null;){b=_;var U=b.stateNode;if(b.tag===5&&U!==null&&(b=U,E!==null&&(U=kn(_,E),U!=null&&G.push(Bn(_,U,b)))),Oe)break;_=_.return}0<G.length&&(j=new V(j,K,null,n,I),L.push({event:j,listeners:G}))}}if((t&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",j&&n!==Gs&&(K=n.relatedTarget||n.fromElement)&&(vr(K)||K[Dt]))break e;if((V||j)&&(j=I.window===I?I:(j=I.ownerDocument)?j.defaultView||j.parentWindow:window,V?(K=n.relatedTarget||n.toElement,V=x,K=K?vr(K):null,K!==null&&(Oe=gr(K),K!==Oe||K.tag!==5&&K.tag!==6)&&(K=null)):(V=null,K=x),V!==K)){if(G=Bl,U="onMouseLeave",E="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(G=Wl,U="onPointerLeave",E="onPointerEnter",_="pointer"),Oe=V==null?j:qr(V),b=K==null?j:qr(K),j=new G(U,_+"leave",V,n,I),j.target=Oe,j.relatedTarget=b,U=null,vr(I)===x&&(G=new G(E,_+"enter",K,n,I),G.target=b,G.relatedTarget=Oe,U=G),Oe=U,V&&K)t:{for(G=V,E=K,_=0,b=G;b;b=Wr(b))_++;for(b=0,U=E;U;U=Wr(U))b++;for(;0<_-b;)G=Wr(G),_--;for(;0<b-_;)E=Wr(E),b--;for(;_--;){if(G===E||E!==null&&G===E.alternate)break t;G=Wr(G),E=Wr(E)}G=null}else G=null;V!==null&&vu(L,j,V,G,!1),K!==null&&Oe!==null&&vu(L,Oe,K,G,!0)}}e:{if(j=x?qr(x):window,V=j.nodeName&&j.nodeName.toLowerCase(),V==="select"||V==="input"&&j.type==="file")var J=qh;else if(Jl(j))if(Yl)J=Jh;else{J=Kh;var X=Hh}else(V=j.nodeName)&&V.toLowerCase()==="input"&&(j.type==="checkbox"||j.type==="radio")&&(J=Gh);if(J&&(J=J(e,x))){Ql(L,J,n,I);break e}X&&X(e,j,x),e==="focusout"&&(X=j._wrapperState)&&X.controlled&&j.type==="number"&&Ws(j,"number",j.value)}switch(X=x?qr(x):window,e){case"focusin":(Jl(X)||X.contentEditable==="true")&&(Br=X,wo=x,Un=null);break;case"focusout":Un=wo=Br=null;break;case"mousedown":_o=!0;break;case"contextmenu":case"mouseup":case"dragend":_o=!1,su(L,n,I);break;case"selectionchange":if(Xh)break;case"keydown":case"keyup":su(L,n,I)}var Z;if(go)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else Mr?Kl(e,n)&&(ne="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ne="onCompositionStart");ne&&(Vl&&n.locale!=="ko"&&(Mr||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Mr&&(Z=zl()):(Xt=I,lo="value"in Xt?Xt.value:Xt.textContent,Mr=!0)),X=zi(x,ne),0<X.length&&(ne=new Fl(ne,e,null,n,I),L.push({event:ne,listeners:X}),Z?ne.data=Z:(Z=Gl(n),Z!==null&&(ne.data=Z)))),(Z=Mh?Bh(e,n):Fh(e,n))&&(x=zi(x,"onBeforeInput"),0<x.length&&(I=new Fl("onBeforeInput","beforeinput",null,n,I),L.push({event:I,listeners:x}),I.data=Z))}pu(L,t)})}function Bn(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zi(e,t){for(var n=t+"Capture",o=[];e!==null;){var l=e,c=l.stateNode;l.tag===5&&c!==null&&(l=c,c=kn(e,n),c!=null&&o.unshift(Bn(e,c,l)),c=kn(e,t),c!=null&&o.push(Bn(e,c,l))),e=e.return}return o}function Wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vu(e,t,n,o,l){for(var c=t._reactName,f=[];n!==null&&n!==o;){var v=n,y=v.alternate,x=v.stateNode;if(y!==null&&y===o)break;v.tag===5&&x!==null&&(v=x,l?(y=kn(n,c),y!=null&&f.unshift(Bn(n,y,v))):l||(y=kn(n,c),y!=null&&f.push(Bn(n,y,v)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var rf=/\r\n?/g,nf=/\u0000|\uFFFD/g;function mu(e){return(typeof e=="string"?e:""+e).replace(rf,`
`).replace(nf,"")}function Mi(e,t,n){if(t=mu(t),mu(e)!==t&&n)throw Error(i(425))}function Bi(){}var To=null,Co=null;function Ro(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Oo=typeof setTimeout=="function"?setTimeout:void 0,sf=typeof clearTimeout=="function"?clearTimeout:void 0,yu=typeof Promise=="function"?Promise:void 0,of=typeof queueMicrotask=="function"?queueMicrotask:typeof yu<"u"?function(e){return yu.resolve(null).then(e).catch(af)}:Oo;function af(e){setTimeout(function(){throw e})}function Po(e,t){var n=t,o=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(o===0){e.removeChild(l),An(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=l}while(n);An(t)}function er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Vr=Math.random().toString(36).slice(2),jt="__reactFiber$"+Vr,Fn="__reactProps$"+Vr,Dt="__reactContainer$"+Vr,Ao="__reactEvents$"+Vr,lf="__reactListeners$"+Vr,uf="__reactHandles$"+Vr;function vr(e){var t=e[jt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dt]||n[jt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wu(e);e!==null;){if(n=e[jt])return n;e=wu(e)}return t}e=n,n=e.parentNode}return null}function Wn(e){return e=e[jt]||e[Dt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Fi(e){return e[Fn]||null}var jo=[],Hr=-1;function tr(e){return{current:e}}function Se(e){0>Hr||(e.current=jo[Hr],jo[Hr]=null,Hr--)}function ye(e,t){Hr++,jo[Hr]=e.current,e.current=t}var rr={},qe=tr(rr),et=tr(!1),mr=rr;function Kr(e,t){var n=e.type.contextTypes;if(!n)return rr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var l={},c;for(c in n)l[c]=t[c];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function tt(e){return e=e.childContextTypes,e!=null}function Wi(){Se(et),Se(qe)}function _u(e,t,n){if(qe.current!==rr)throw Error(i(168));ye(qe,t),ye(et,n)}function Su(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var l in o)if(!(l in t))throw Error(i(108,ge(e)||"Unknown",l));return M({},n,o)}function Vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rr,mr=qe.current,ye(qe,e),ye(et,et.current),!0}function ku(e,t,n){var o=e.stateNode;if(!o)throw Error(i(169));n?(e=Su(e,t,mr),o.__reactInternalMemoizedMergedChildContext=e,Se(et),Se(qe),ye(qe,e)):Se(et),ye(et,n)}var Ut=null,qi=!1,No=!1;function Eu(e){Ut===null?Ut=[e]:Ut.push(e)}function cf(e){qi=!0,Eu(e)}function nr(){if(!No&&Ut!==null){No=!0;var e=0,t=pe;try{var n=Ut;for(pe=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}Ut=null,qi=!1}catch(l){throw Ut!==null&&(Ut=Ut.slice(e+1)),xl(eo,nr),l}finally{pe=t,No=!1}}return null}var Gr=[],Jr=0,Hi=null,Ki=0,gt=[],vt=0,yr=null,zt=1,Mt="";function wr(e,t){Gr[Jr++]=Ki,Gr[Jr++]=Hi,Hi=e,Ki=t}function bu(e,t,n){gt[vt++]=zt,gt[vt++]=Mt,gt[vt++]=yr,yr=e;var o=zt;e=Mt;var l=32-St(o)-1;o&=~(1<<l),n+=1;var c=32-St(t)+l;if(30<c){var f=l-l%5;c=(o&(1<<f)-1).toString(32),o>>=f,l-=f,zt=1<<32-St(t)+l|n<<l|o,Mt=c+e}else zt=1<<c|n<<l|o,Mt=e}function Io(e){e.return!==null&&(wr(e,1),bu(e,1,0))}function Lo(e){for(;e===Hi;)Hi=Gr[--Jr],Gr[Jr]=null,Ki=Gr[--Jr],Gr[Jr]=null;for(;e===yr;)yr=gt[--vt],gt[vt]=null,Mt=gt[--vt],gt[vt]=null,zt=gt[--vt],gt[vt]=null}var lt=null,ut=null,ke=!1,Et=null;function xu(e,t){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,ut=er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=yr!==null?{id:zt,overflow:Mt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lt=e,ut=null,!0):!1;default:return!1}}function $o(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Do(e){if(ke){var t=ut;if(t){var n=t;if(!Tu(e,t)){if($o(e))throw Error(i(418));t=er(n.nextSibling);var o=lt;t&&Tu(e,t)?xu(o,n):(e.flags=e.flags&-4097|2,ke=!1,lt=e)}}else{if($o(e))throw Error(i(418));e.flags=e.flags&-4097|2,ke=!1,lt=e}}}function Cu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function Gi(e){if(e!==lt)return!1;if(!ke)return Cu(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ro(e.type,e.memoizedProps)),t&&(t=ut)){if($o(e))throw Ru(),Error(i(418));for(;t;)xu(e,t),t=er(t.nextSibling)}if(Cu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ut=er(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=lt?er(e.stateNode.nextSibling):null;return!0}function Ru(){for(var e=ut;e;)e=er(e.nextSibling)}function Qr(){ut=lt=null,ke=!1}function Uo(e){Et===null?Et=[e]:Et.push(e)}var df=Q.ReactCurrentBatchConfig;function Vn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(i(309));var o=n.stateNode}if(!o)throw Error(i(147,e));var l=o,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(f){var v=l.refs;f===null?delete v[c]:v[c]=f},t._stringRef=c,t)}if(typeof e!="string")throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Ji(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ou(e){var t=e._init;return t(e._payload)}function Pu(e){function t(E,_){if(e){var b=E.deletions;b===null?(E.deletions=[_],E.flags|=16):b.push(_)}}function n(E,_){if(!e)return null;for(;_!==null;)t(E,_),_=_.sibling;return null}function o(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function l(E,_){return E=dr(E,_),E.index=0,E.sibling=null,E}function c(E,_,b){return E.index=b,e?(b=E.alternate,b!==null?(b=b.index,b<_?(E.flags|=2,_):b):(E.flags|=2,_)):(E.flags|=1048576,_)}function f(E){return e&&E.alternate===null&&(E.flags|=2),E}function v(E,_,b,U){return _===null||_.tag!==6?(_=Oa(b,E.mode,U),_.return=E,_):(_=l(_,b),_.return=E,_)}function y(E,_,b,U){var J=b.type;return J===oe?I(E,_,b.props.children,U,b.key):_!==null&&(_.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===D&&Ou(J)===_.type)?(U=l(_,b.props),U.ref=Vn(E,_,b),U.return=E,U):(U=ws(b.type,b.key,b.props,null,E.mode,U),U.ref=Vn(E,_,b),U.return=E,U)}function x(E,_,b,U){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=Pa(b,E.mode,U),_.return=E,_):(_=l(_,b.children||[]),_.return=E,_)}function I(E,_,b,U,J){return _===null||_.tag!==7?(_=Cr(b,E.mode,U,J),_.return=E,_):(_=l(_,b),_.return=E,_)}function L(E,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Oa(""+_,E.mode,b),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case de:return b=ws(_.type,_.key,_.props,null,E.mode,b),b.ref=Vn(E,null,_),b.return=E,b;case ie:return _=Pa(_,E.mode,b),_.return=E,_;case D:var U=_._init;return L(E,U(_._payload),b)}if(wn(_)||q(_))return _=Cr(_,E.mode,b,null),_.return=E,_;Ji(E,_)}return null}function j(E,_,b,U){var J=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return J!==null?null:v(E,_,""+b,U);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case de:return b.key===J?y(E,_,b,U):null;case ie:return b.key===J?x(E,_,b,U):null;case D:return J=b._init,j(E,_,J(b._payload),U)}if(wn(b)||q(b))return J!==null?null:I(E,_,b,U,null);Ji(E,b)}return null}function V(E,_,b,U,J){if(typeof U=="string"&&U!==""||typeof U=="number")return E=E.get(b)||null,v(_,E,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case de:return E=E.get(U.key===null?b:U.key)||null,y(_,E,U,J);case ie:return E=E.get(U.key===null?b:U.key)||null,x(_,E,U,J);case D:var X=U._init;return V(E,_,b,X(U._payload),J)}if(wn(U)||q(U))return E=E.get(b)||null,I(_,E,U,J,null);Ji(_,U)}return null}function K(E,_,b,U){for(var J=null,X=null,Z=_,ne=_=0,ze=null;Z!==null&&ne<b.length;ne++){Z.index>ne?(ze=Z,Z=null):ze=Z.sibling;var he=j(E,Z,b[ne],U);if(he===null){Z===null&&(Z=ze);break}e&&Z&&he.alternate===null&&t(E,Z),_=c(he,_,ne),X===null?J=he:X.sibling=he,X=he,Z=ze}if(ne===b.length)return n(E,Z),ke&&wr(E,ne),J;if(Z===null){for(;ne<b.length;ne++)Z=L(E,b[ne],U),Z!==null&&(_=c(Z,_,ne),X===null?J=Z:X.sibling=Z,X=Z);return ke&&wr(E,ne),J}for(Z=o(E,Z);ne<b.length;ne++)ze=V(Z,E,ne,b[ne],U),ze!==null&&(e&&ze.alternate!==null&&Z.delete(ze.key===null?ne:ze.key),_=c(ze,_,ne),X===null?J=ze:X.sibling=ze,X=ze);return e&&Z.forEach(function(hr){return t(E,hr)}),ke&&wr(E,ne),J}function G(E,_,b,U){var J=q(b);if(typeof J!="function")throw Error(i(150));if(b=J.call(b),b==null)throw Error(i(151));for(var X=J=null,Z=_,ne=_=0,ze=null,he=b.next();Z!==null&&!he.done;ne++,he=b.next()){Z.index>ne?(ze=Z,Z=null):ze=Z.sibling;var hr=j(E,Z,he.value,U);if(hr===null){Z===null&&(Z=ze);break}e&&Z&&hr.alternate===null&&t(E,Z),_=c(hr,_,ne),X===null?J=hr:X.sibling=hr,X=hr,Z=ze}if(he.done)return n(E,Z),ke&&wr(E,ne),J;if(Z===null){for(;!he.done;ne++,he=b.next())he=L(E,he.value,U),he!==null&&(_=c(he,_,ne),X===null?J=he:X.sibling=he,X=he);return ke&&wr(E,ne),J}for(Z=o(E,Z);!he.done;ne++,he=b.next())he=V(Z,E,ne,he.value,U),he!==null&&(e&&he.alternate!==null&&Z.delete(he.key===null?ne:he.key),_=c(he,_,ne),X===null?J=he:X.sibling=he,X=he);return e&&Z.forEach(function(Vf){return t(E,Vf)}),ke&&wr(E,ne),J}function Oe(E,_,b,U){if(typeof b=="object"&&b!==null&&b.type===oe&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case de:e:{for(var J=b.key,X=_;X!==null;){if(X.key===J){if(J=b.type,J===oe){if(X.tag===7){n(E,X.sibling),_=l(X,b.props.children),_.return=E,E=_;break e}}else if(X.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===D&&Ou(J)===X.type){n(E,X.sibling),_=l(X,b.props),_.ref=Vn(E,X,b),_.return=E,E=_;break e}n(E,X);break}else t(E,X);X=X.sibling}b.type===oe?(_=Cr(b.props.children,E.mode,U,b.key),_.return=E,E=_):(U=ws(b.type,b.key,b.props,null,E.mode,U),U.ref=Vn(E,_,b),U.return=E,E=U)}return f(E);case ie:e:{for(X=b.key;_!==null;){if(_.key===X)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(E,_.sibling),_=l(_,b.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else t(E,_);_=_.sibling}_=Pa(b,E.mode,U),_.return=E,E=_}return f(E);case D:return X=b._init,Oe(E,_,X(b._payload),U)}if(wn(b))return K(E,_,b,U);if(q(b))return G(E,_,b,U);Ji(E,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(E,_.sibling),_=l(_,b),_.return=E,E=_):(n(E,_),_=Oa(b,E.mode,U),_.return=E,E=_),f(E)):n(E,_)}return Oe}var Yr=Pu(!0),Au=Pu(!1),Qi=tr(null),Yi=null,Xr=null,zo=null;function Mo(){zo=Xr=Yi=null}function Bo(e){var t=Qi.current;Se(Qi),e._currentValue=t}function Fo(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Zr(e,t){Yi=e,zo=Xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(rt=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(zo!==e)if(e={context:e,memoizedValue:t,next:null},Xr===null){if(Yi===null)throw Error(i(308));Xr=e,Yi.dependencies={lanes:0,firstContext:e}}else Xr=Xr.next=e;return t}var _r=null;function Wo(e){_r===null?_r=[e]:_r.push(e)}function ju(e,t,n,o){var l=t.interleaved;return l===null?(n.next=n,Wo(t)):(n.next=l.next,l.next=n),t.interleaved=n,Bt(e,o)}function Bt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ir=!1;function Vo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sr(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ce&2)!==0){var l=o.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),o.pending=t,Bt(e,n)}return l=o.interleaved,l===null?(t.next=t,Wo(o)):(t.next=l.next,l.next=t),o.interleaved=t,Bt(e,n)}function Xi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,no(e,n)}}function Iu(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var l=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var f={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?l=c=f:c=c.next=f,n=n.next}while(n!==null);c===null?l=c=t:c=c.next=t}else l=c=t;n={baseState:o.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zi(e,t,n,o){var l=e.updateQueue;ir=!1;var c=l.firstBaseUpdate,f=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var y=v,x=y.next;y.next=null,f===null?c=x:f.next=x,f=y;var I=e.alternate;I!==null&&(I=I.updateQueue,v=I.lastBaseUpdate,v!==f&&(v===null?I.firstBaseUpdate=x:v.next=x,I.lastBaseUpdate=y))}if(c!==null){var L=l.baseState;f=0,I=x=y=null,v=c;do{var j=v.lane,V=v.eventTime;if((o&j)===j){I!==null&&(I=I.next={eventTime:V,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var K=e,G=v;switch(j=t,V=n,G.tag){case 1:if(K=G.payload,typeof K=="function"){L=K.call(V,L,j);break e}L=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=G.payload,j=typeof K=="function"?K.call(V,L,j):K,j==null)break e;L=M({},L,j);break e;case 2:ir=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,j=l.effects,j===null?l.effects=[v]:j.push(v))}else V={eventTime:V,lane:j,tag:v.tag,payload:v.payload,callback:v.callback,next:null},I===null?(x=I=V,y=L):I=I.next=V,f|=j;if(v=v.next,v===null){if(v=l.shared.pending,v===null)break;j=v,v=j.next,j.next=null,l.lastBaseUpdate=j,l.shared.pending=null}}while(!0);if(I===null&&(y=L),l.baseState=y,l.firstBaseUpdate=x,l.lastBaseUpdate=I,t=l.shared.interleaved,t!==null){l=t;do f|=l.lane,l=l.next;while(l!==t)}else c===null&&(l.shared.lanes=0);Er|=f,e.lanes=f,e.memoizedState=L}}function Lu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],l=o.callback;if(l!==null){if(o.callback=null,o=n,typeof l!="function")throw Error(i(191,l));l.call(o)}}}var qn={},Nt=tr(qn),Hn=tr(qn),Kn=tr(qn);function Sr(e){if(e===qn)throw Error(i(174));return e}function qo(e,t){switch(ye(Kn,t),ye(Hn,e),ye(Nt,qn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qs(t,e)}Se(Nt),ye(Nt,t)}function en(){Se(Nt),Se(Hn),Se(Kn)}function $u(e){Sr(Kn.current);var t=Sr(Nt.current),n=qs(t,e.type);t!==n&&(ye(Hn,e),ye(Nt,n))}function Ho(e){Hn.current===e&&(Se(Nt),Se(Hn))}var Ee=tr(0);function es(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ko=[];function Go(){for(var e=0;e<Ko.length;e++)Ko[e]._workInProgressVersionPrimary=null;Ko.length=0}var ts=Q.ReactCurrentDispatcher,Jo=Q.ReactCurrentBatchConfig,kr=0,be=null,Ie=null,De=null,rs=!1,Gn=!1,Jn=0,hf=0;function He(){throw Error(i(321))}function Qo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function Yo(e,t,n,o,l,c){if(kr=c,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ts.current=e===null||e.memoizedState===null?vf:mf,e=n(o,l),Gn){c=0;do{if(Gn=!1,Jn=0,25<=c)throw Error(i(301));c+=1,De=Ie=null,t.updateQueue=null,ts.current=yf,e=n(o,l)}while(Gn)}if(ts.current=ss,t=Ie!==null&&Ie.next!==null,kr=0,De=Ie=be=null,rs=!1,t)throw Error(i(300));return e}function Xo(){var e=Jn!==0;return Jn=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?be.memoizedState=De=e:De=De.next=e,De}function yt(){if(Ie===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=De===null?be.memoizedState:De.next;if(t!==null)De=t,Ie=e;else{if(e===null)throw Error(i(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},De===null?be.memoizedState=De=e:De=De.next=e}return De}function Qn(e,t){return typeof t=="function"?t(e):t}function Zo(e){var t=yt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var o=Ie,l=o.baseQueue,c=n.pending;if(c!==null){if(l!==null){var f=l.next;l.next=c.next,c.next=f}o.baseQueue=l=c,n.pending=null}if(l!==null){c=l.next,o=o.baseState;var v=f=null,y=null,x=c;do{var I=x.lane;if((kr&I)===I)y!==null&&(y=y.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),o=x.hasEagerState?x.eagerState:e(o,x.action);else{var L={lane:I,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};y===null?(v=y=L,f=o):y=y.next=L,be.lanes|=I,Er|=I}x=x.next}while(x!==null&&x!==c);y===null?f=o:y.next=v,kt(o,t.memoizedState)||(rt=!0),t.memoizedState=o,t.baseState=f,t.baseQueue=y,n.lastRenderedState=o}if(e=n.interleaved,e!==null){l=e;do c=l.lane,be.lanes|=c,Er|=c,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ea(e){var t=yt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var o=n.dispatch,l=n.pending,c=t.memoizedState;if(l!==null){n.pending=null;var f=l=l.next;do c=e(c,f.action),f=f.next;while(f!==l);kt(c,t.memoizedState)||(rt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,o]}function Du(){}function Uu(e,t){var n=be,o=yt(),l=t(),c=!kt(o.memoizedState,l);if(c&&(o.memoizedState=l,rt=!0),o=o.queue,ta(Bu.bind(null,n,o,e),[e]),o.getSnapshot!==t||c||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,Yn(9,Mu.bind(null,n,o,l,t),void 0,null),Ue===null)throw Error(i(349));(kr&30)!==0||zu(n,t,l)}return l}function zu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Mu(e,t,n,o){t.value=n,t.getSnapshot=o,Fu(t)&&Wu(e)}function Bu(e,t,n){return n(function(){Fu(t)&&Wu(e)})}function Fu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function Wu(e){var t=Bt(e,1);t!==null&&Ct(t,e,1,-1)}function Vu(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:e},t.queue=e,e=e.dispatch=gf.bind(null,be,e),[t.memoizedState,e]}function Yn(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function qu(){return yt().memoizedState}function ns(e,t,n,o){var l=It();be.flags|=e,l.memoizedState=Yn(1|t,n,void 0,o===void 0?null:o)}function is(e,t,n,o){var l=yt();o=o===void 0?null:o;var c=void 0;if(Ie!==null){var f=Ie.memoizedState;if(c=f.destroy,o!==null&&Qo(o,f.deps)){l.memoizedState=Yn(t,n,c,o);return}}be.flags|=e,l.memoizedState=Yn(1|t,n,c,o)}function Hu(e,t){return ns(8390656,8,e,t)}function ta(e,t){return is(2048,8,e,t)}function Ku(e,t){return is(4,2,e,t)}function Gu(e,t){return is(4,4,e,t)}function Ju(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qu(e,t,n){return n=n!=null?n.concat([e]):null,is(4,4,Ju.bind(null,t,e),n)}function ra(){}function Yu(e,t){var n=yt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Qo(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Xu(e,t){var n=yt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Qo(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function Zu(e,t,n){return(kr&21)===0?(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=n):(kt(n,t)||(n=Ol(),be.lanes|=n,Er|=n,e.baseState=!0),t)}function ff(e,t){var n=pe;pe=n!==0&&4>n?n:4,e(!0);var o=Jo.transition;Jo.transition={};try{e(!1),t()}finally{pe=n,Jo.transition=o}}function ec(){return yt().memoizedState}function pf(e,t,n){var o=ur(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},tc(e))rc(t,n);else if(n=ju(e,t,n,o),n!==null){var l=Ze();Ct(n,e,o,l),nc(n,t,o)}}function gf(e,t,n){var o=ur(e),l={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(tc(e))rc(t,l);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var f=t.lastRenderedState,v=c(f,n);if(l.hasEagerState=!0,l.eagerState=v,kt(v,f)){var y=t.interleaved;y===null?(l.next=l,Wo(t)):(l.next=y.next,y.next=l),t.interleaved=l;return}}catch{}n=ju(e,t,l,o),n!==null&&(l=Ze(),Ct(n,e,o,l),nc(n,t,o))}}function tc(e){var t=e.alternate;return e===be||t!==null&&t===be}function rc(e,t){Gn=rs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nc(e,t,n){if((n&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,no(e,n)}}var ss={readContext:mt,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},vf={readContext:mt,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:Hu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ns(4194308,4,Ju.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return ns(4,2,e,t)},useMemo:function(e,t){var n=It();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=It();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=pf.bind(null,be,e),[o.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:Vu,useDebugValue:ra,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=Vu(!1),t=e[0];return e=ff.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=be,l=It();if(ke){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Ue===null)throw Error(i(349));(kr&30)!==0||zu(o,t,n)}l.memoizedState=n;var c={value:n,getSnapshot:t};return l.queue=c,Hu(Bu.bind(null,o,c,e),[e]),o.flags|=2048,Yn(9,Mu.bind(null,o,c,n,t),void 0,null),n},useId:function(){var e=It(),t=Ue.identifierPrefix;if(ke){var n=Mt,o=zt;n=(o&~(1<<32-St(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=Jn++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=hf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mf={readContext:mt,useCallback:Yu,useContext:mt,useEffect:ta,useImperativeHandle:Qu,useInsertionEffect:Ku,useLayoutEffect:Gu,useMemo:Xu,useReducer:Zo,useRef:qu,useState:function(){return Zo(Qn)},useDebugValue:ra,useDeferredValue:function(e){var t=yt();return Zu(t,Ie.memoizedState,e)},useTransition:function(){var e=Zo(Qn)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Du,useSyncExternalStore:Uu,useId:ec,unstable_isNewReconciler:!1},yf={readContext:mt,useCallback:Yu,useContext:mt,useEffect:ta,useImperativeHandle:Qu,useInsertionEffect:Ku,useLayoutEffect:Gu,useMemo:Xu,useReducer:ea,useRef:qu,useState:function(){return ea(Qn)},useDebugValue:ra,useDeferredValue:function(e){var t=yt();return Ie===null?t.memoizedState=e:Zu(t,Ie.memoizedState,e)},useTransition:function(){var e=ea(Qn)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Du,useSyncExternalStore:Uu,useId:ec,unstable_isNewReconciler:!1};function bt(e,t){if(e&&e.defaultProps){t=M({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function na(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:M({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return(e=e._reactInternals)?gr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Ze(),l=ur(e),c=Ft(o,l);c.payload=t,n!=null&&(c.callback=n),t=sr(e,c,l),t!==null&&(Ct(t,e,l,o),Xi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Ze(),l=ur(e),c=Ft(o,l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=sr(e,c,l),t!==null&&(Ct(t,e,l,o),Xi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ze(),o=ur(e),l=Ft(n,o);l.tag=2,t!=null&&(l.callback=t),t=sr(e,l,o),t!==null&&(Ct(t,e,o,n),Xi(t,e,o))}};function ic(e,t,n,o,l,c,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,c,f):t.prototype&&t.prototype.isPureReactComponent?!Dn(n,o)||!Dn(l,c):!0}function sc(e,t,n){var o=!1,l=rr,c=t.contextType;return typeof c=="object"&&c!==null?c=mt(c):(l=tt(t)?mr:qe.current,o=t.contextTypes,c=(o=o!=null)?Kr(e,l):rr),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=c),t}function oc(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function ia(e,t,n,o){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Vo(e);var c=t.contextType;typeof c=="object"&&c!==null?l.context=mt(c):(c=tt(t)?mr:qe.current,l.context=Kr(e,c)),l.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(na(e,t,c,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&os.enqueueReplaceState(l,l.state,null),Zi(e,n,l,o),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function tn(e,t){try{var n="",o=t;do n+=le(o),o=o.return;while(o);var l=n}catch(c){l=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:l,digest:null}}function sa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function oa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wf=typeof WeakMap=="function"?WeakMap:Map;function ac(e,t,n){n=Ft(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){fs||(fs=!0,Sa=o),oa(e,t)},n}function lc(e,t,n){n=Ft(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var l=t.value;n.payload=function(){return o(l)},n.callback=function(){oa(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){oa(e,t),typeof o!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),n}function uc(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new wf;var l=new Set;o.set(t,l)}else l=o.get(t),l===void 0&&(l=new Set,o.set(t,l));l.has(n)||(l.add(n),e=Nf.bind(null,e,t,n),t.then(e,e))}function cc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dc(e,t,n,o,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ft(-1,1),t.tag=2,sr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var _f=Q.ReactCurrentOwner,rt=!1;function Xe(e,t,n,o){t.child=e===null?Au(t,null,n,o):Yr(t,e.child,n,o)}function hc(e,t,n,o,l){n=n.render;var c=t.ref;return Zr(t,l),o=Yo(e,t,n,o,c,l),n=Xo(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Wt(e,t,l)):(ke&&n&&Io(t),t.flags|=1,Xe(e,t,o,l),t.child)}function fc(e,t,n,o,l){if(e===null){var c=n.type;return typeof c=="function"&&!Ra(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,pc(e,t,c,o,l)):(e=ws(n.type,null,o,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,(e.lanes&l)===0){var f=c.memoizedProps;if(n=n.compare,n=n!==null?n:Dn,n(f,o)&&e.ref===t.ref)return Wt(e,t,l)}return t.flags|=1,e=dr(c,o),e.ref=t.ref,e.return=t,t.child=e}function pc(e,t,n,o,l){if(e!==null){var c=e.memoizedProps;if(Dn(c,o)&&e.ref===t.ref)if(rt=!1,t.pendingProps=o=c,(e.lanes&l)!==0)(e.flags&131072)!==0&&(rt=!0);else return t.lanes=e.lanes,Wt(e,t,l)}return aa(e,t,n,o,l)}function gc(e,t,n){var o=t.pendingProps,l=o.children,c=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(nn,ct),ct|=n;else{if((n&1073741824)===0)return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(nn,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:n,ye(nn,ct),ct|=o}else c!==null?(o=c.baseLanes|n,t.memoizedState=null):o=n,ye(nn,ct),ct|=o;return Xe(e,t,l,n),t.child}function vc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function aa(e,t,n,o,l){var c=tt(n)?mr:qe.current;return c=Kr(t,c),Zr(t,l),n=Yo(e,t,n,o,c,l),o=Xo(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Wt(e,t,l)):(ke&&o&&Io(t),t.flags|=1,Xe(e,t,n,l),t.child)}function mc(e,t,n,o,l){if(tt(n)){var c=!0;Vi(t)}else c=!1;if(Zr(t,l),t.stateNode===null)ls(e,t),sc(t,n,o),ia(t,n,o,l),o=!0;else if(e===null){var f=t.stateNode,v=t.memoizedProps;f.props=v;var y=f.context,x=n.contextType;typeof x=="object"&&x!==null?x=mt(x):(x=tt(n)?mr:qe.current,x=Kr(t,x));var I=n.getDerivedStateFromProps,L=typeof I=="function"||typeof f.getSnapshotBeforeUpdate=="function";L||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==o||y!==x)&&oc(t,f,o,x),ir=!1;var j=t.memoizedState;f.state=j,Zi(t,o,f,l),y=t.memoizedState,v!==o||j!==y||et.current||ir?(typeof I=="function"&&(na(t,n,I,o),y=t.memoizedState),(v=ir||ic(t,n,v,o,j,y,x))?(L||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=y),f.props=o,f.state=y,f.context=x,o=v):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{f=t.stateNode,Nu(e,t),v=t.memoizedProps,x=t.type===t.elementType?v:bt(t.type,v),f.props=x,L=t.pendingProps,j=f.context,y=n.contextType,typeof y=="object"&&y!==null?y=mt(y):(y=tt(n)?mr:qe.current,y=Kr(t,y));var V=n.getDerivedStateFromProps;(I=typeof V=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==L||j!==y)&&oc(t,f,o,y),ir=!1,j=t.memoizedState,f.state=j,Zi(t,o,f,l);var K=t.memoizedState;v!==L||j!==K||et.current||ir?(typeof V=="function"&&(na(t,n,V,o),K=t.memoizedState),(x=ir||ic(t,n,x,o,j,K,y)||!1)?(I||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,K,y),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,K,y)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=K),f.props=o,f.state=K,f.context=y,o=x):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),o=!1)}return la(e,t,n,o,c,l)}function la(e,t,n,o,l,c){vc(e,t);var f=(t.flags&128)!==0;if(!o&&!f)return l&&ku(t,n,!1),Wt(e,t,c);o=t.stateNode,_f.current=t;var v=f&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&f?(t.child=Yr(t,e.child,null,c),t.child=Yr(t,null,v,c)):Xe(e,t,v,c),t.memoizedState=o.state,l&&ku(t,n,!0),t.child}function yc(e){var t=e.stateNode;t.pendingContext?_u(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_u(e,t.context,!1),qo(e,t.containerInfo)}function wc(e,t,n,o,l){return Qr(),Uo(l),t.flags|=256,Xe(e,t,n,o),t.child}var ua={dehydrated:null,treeContext:null,retryLane:0};function ca(e){return{baseLanes:e,cachePool:null,transitions:null}}function _c(e,t,n){var o=t.pendingProps,l=Ee.current,c=!1,f=(t.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(l&2)!==0),v?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ye(Ee,l&1),e===null)return Do(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(f=o.children,e=o.fallback,c?(o=t.mode,c=t.child,f={mode:"hidden",children:f},(o&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=f):c=_s(f,o,0,null),e=Cr(e,o,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=ca(n),t.memoizedState=ua,e):da(t,f));if(l=e.memoizedState,l!==null&&(v=l.dehydrated,v!==null))return Sf(e,t,f,o,v,l,n);if(c){c=o.fallback,f=t.mode,l=e.child,v=l.sibling;var y={mode:"hidden",children:o.children};return(f&1)===0&&t.child!==l?(o=t.child,o.childLanes=0,o.pendingProps=y,t.deletions=null):(o=dr(l,y),o.subtreeFlags=l.subtreeFlags&14680064),v!==null?c=dr(v,c):(c=Cr(c,f,n,null),c.flags|=2),c.return=t,o.return=t,o.sibling=c,t.child=o,o=c,c=t.child,f=e.child.memoizedState,f=f===null?ca(n):{baseLanes:f.baseLanes|n,cachePool:null,transitions:f.transitions},c.memoizedState=f,c.childLanes=e.childLanes&~n,t.memoizedState=ua,o}return c=e.child,e=c.sibling,o=dr(c,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function da(e,t){return t=_s({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function as(e,t,n,o){return o!==null&&Uo(o),Yr(t,e.child,null,n),e=da(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sf(e,t,n,o,l,c,f){if(n)return t.flags&256?(t.flags&=-257,o=sa(Error(i(422))),as(e,t,f,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=o.fallback,l=t.mode,o=_s({mode:"visible",children:o.children},l,0,null),c=Cr(c,l,f,null),c.flags|=2,o.return=t,c.return=t,o.sibling=c,t.child=o,(t.mode&1)!==0&&Yr(t,e.child,null,f),t.child.memoizedState=ca(f),t.memoizedState=ua,c);if((t.mode&1)===0)return as(e,t,f,null);if(l.data==="$!"){if(o=l.nextSibling&&l.nextSibling.dataset,o)var v=o.dgst;return o=v,c=Error(i(419)),o=sa(c,o,void 0),as(e,t,f,o)}if(v=(f&e.childLanes)!==0,rt||v){if(o=Ue,o!==null){switch(f&-f){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(o.suspendedLanes|f))!==0?0:l,l!==0&&l!==c.retryLane&&(c.retryLane=l,Bt(e,l),Ct(o,e,l,-1))}return Ca(),o=sa(Error(i(421))),as(e,t,f,o)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=If.bind(null,e),l._reactRetry=t,null):(e=c.treeContext,ut=er(l.nextSibling),lt=t,ke=!0,Et=null,e!==null&&(gt[vt++]=zt,gt[vt++]=Mt,gt[vt++]=yr,zt=e.id,Mt=e.overflow,yr=t),t=da(t,o.children),t.flags|=4096,t)}function Sc(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Fo(e.return,t,n)}function ha(e,t,n,o,l){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:l}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=n,c.tailMode=l)}function kc(e,t,n){var o=t.pendingProps,l=o.revealOrder,c=o.tail;if(Xe(e,t,o.children,n),o=Ee.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sc(e,n,t);else if(e.tag===19)Sc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ye(Ee,o),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&es(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ha(t,!1,l,n,c);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&es(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ha(t,!0,n,null,c);break;case"together":ha(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ls(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Er|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=dr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kf(e,t,n){switch(t.tag){case 3:yc(t),Qr();break;case 5:$u(t);break;case 1:tt(t.type)&&Vi(t);break;case 4:qo(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,l=t.memoizedProps.value;ye(Qi,o._currentValue),o._currentValue=l;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(ye(Ee,Ee.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?_c(e,t,n):(ye(Ee,Ee.current&1),e=Wt(e,t,n),e!==null?e.sibling:null);ye(Ee,Ee.current&1);break;case 19:if(o=(n&t.childLanes)!==0,(e.flags&128)!==0){if(o)return kc(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ye(Ee,Ee.current),o)break;return null;case 22:case 23:return t.lanes=0,gc(e,t,n)}return Wt(e,t,n)}var Ec,fa,bc,xc;Ec=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},fa=function(){},bc=function(e,t,n,o){var l=e.memoizedProps;if(l!==o){e=t.stateNode,Sr(Nt.current);var c=null;switch(n){case"input":l=$t(e,l),o=$t(e,o),c=[];break;case"select":l=M({},l,{value:void 0}),o=M({},o,{value:void 0}),c=[];break;case"textarea":l=Vs(e,l),o=Vs(e,o),c=[];break;default:typeof l.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Bi)}Hs(n,o);var f;n=null;for(x in l)if(!o.hasOwnProperty(x)&&l.hasOwnProperty(x)&&l[x]!=null)if(x==="style"){var v=l[x];for(f in v)v.hasOwnProperty(f)&&(n||(n={}),n[f]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(u.hasOwnProperty(x)?c||(c=[]):(c=c||[]).push(x,null));for(x in o){var y=o[x];if(v=l?.[x],o.hasOwnProperty(x)&&y!==v&&(y!=null||v!=null))if(x==="style")if(v){for(f in v)!v.hasOwnProperty(f)||y&&y.hasOwnProperty(f)||(n||(n={}),n[f]="");for(f in y)y.hasOwnProperty(f)&&v[f]!==y[f]&&(n||(n={}),n[f]=y[f])}else n||(c||(c=[]),c.push(x,n)),n=y;else x==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,v=v?v.__html:void 0,y!=null&&v!==y&&(c=c||[]).push(x,y)):x==="children"?typeof y!="string"&&typeof y!="number"||(c=c||[]).push(x,""+y):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(u.hasOwnProperty(x)?(y!=null&&x==="onScroll"&&_e("scroll",e),c||v===y||(c=[])):(c=c||[]).push(x,y))}n&&(c=c||[]).push("style",n);var x=c;(t.updateQueue=x)&&(t.flags|=4)}},xc=function(e,t,n,o){n!==o&&(t.flags|=4)};function Xn(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,o|=l.subtreeFlags&14680064,o|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,o|=l.subtreeFlags,o|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function Ef(e,t,n){var o=t.pendingProps;switch(Lo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return tt(t.type)&&Wi(),Ke(t),null;case 3:return o=t.stateNode,en(),Se(et),Se(qe),Go(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Gi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Et!==null&&(ba(Et),Et=null))),fa(e,t),Ke(t),null;case 5:Ho(t);var l=Sr(Kn.current);if(n=t.type,e!==null&&t.stateNode!=null)bc(e,t,n,o,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(i(166));return Ke(t),null}if(e=Sr(Nt.current),Gi(t)){o=t.stateNode,n=t.type;var c=t.memoizedProps;switch(o[jt]=t,o[Fn]=c,e=(t.mode&1)!==0,n){case"dialog":_e("cancel",o),_e("close",o);break;case"iframe":case"object":case"embed":_e("load",o);break;case"video":case"audio":for(l=0;l<zn.length;l++)_e(zn[l],o);break;case"source":_e("error",o);break;case"img":case"image":case"link":_e("error",o),_e("load",o);break;case"details":_e("toggle",o);break;case"input":Ir(o,c),_e("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},_e("invalid",o);break;case"textarea":ll(o,c),_e("invalid",o)}Hs(n,c),l=null;for(var f in c)if(c.hasOwnProperty(f)){var v=c[f];f==="children"?typeof v=="string"?o.textContent!==v&&(c.suppressHydrationWarning!==!0&&Mi(o.textContent,v,e),l=["children",v]):typeof v=="number"&&o.textContent!==""+v&&(c.suppressHydrationWarning!==!0&&Mi(o.textContent,v,e),l=["children",""+v]):u.hasOwnProperty(f)&&v!=null&&f==="onScroll"&&_e("scroll",o)}switch(n){case"input":Kt(o),al(o,c,!0);break;case"textarea":Kt(o),cl(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=Bi)}o=l,t.updateQueue=o,o!==null&&(t.flags|=4)}else{f=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dl(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=f.createElement(n,{is:o.is}):(e=f.createElement(n),n==="select"&&(f=e,o.multiple?f.multiple=!0:o.size&&(f.size=o.size))):e=f.createElementNS(e,n),e[jt]=t,e[Fn]=o,Ec(e,t,!1,!1),t.stateNode=e;e:{switch(f=Ks(n,o),n){case"dialog":_e("cancel",e),_e("close",e),l=o;break;case"iframe":case"object":case"embed":_e("load",e),l=o;break;case"video":case"audio":for(l=0;l<zn.length;l++)_e(zn[l],e);l=o;break;case"source":_e("error",e),l=o;break;case"img":case"image":case"link":_e("error",e),_e("load",e),l=o;break;case"details":_e("toggle",e),l=o;break;case"input":Ir(e,o),l=$t(e,o),_e("invalid",e);break;case"option":l=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},l=M({},o,{value:void 0}),_e("invalid",e);break;case"textarea":ll(e,o),l=Vs(e,o),_e("invalid",e);break;default:l=o}Hs(n,l),v=l;for(c in v)if(v.hasOwnProperty(c)){var y=v[c];c==="style"?pl(e,y):c==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&hl(e,y)):c==="children"?typeof y=="string"?(n!=="textarea"||y!=="")&&_n(e,y):typeof y=="number"&&_n(e,""+y):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(u.hasOwnProperty(c)?y!=null&&c==="onScroll"&&_e("scroll",e):y!=null&&z(e,c,y,f))}switch(n){case"input":Kt(e),al(e,o,!1);break;case"textarea":Kt(e),cl(e);break;case"option":o.value!=null&&e.setAttribute("value",""+fe(o.value));break;case"select":e.multiple=!!o.multiple,c=o.value,c!=null?Lr(e,!!o.multiple,c,!1):o.defaultValue!=null&&Lr(e,!!o.multiple,o.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Bi)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)xc(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(i(166));if(n=Sr(Kn.current),Sr(Nt.current),Gi(t)){if(o=t.stateNode,n=t.memoizedProps,o[jt]=t,(c=o.nodeValue!==n)&&(e=lt,e!==null))switch(e.tag){case 3:Mi(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mi(o.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[jt]=t,t.stateNode=o}return Ke(t),null;case 13:if(Se(Ee),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&ut!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Ru(),Qr(),t.flags|=98560,c=!1;else if(c=Gi(t),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[jt]=t}else Qr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),c=!1}else Et!==null&&(ba(Et),Et=null),c=!0;if(!c)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ee.current&1)!==0?Le===0&&(Le=3):Ca())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return en(),fa(e,t),e===null&&Mn(t.stateNode.containerInfo),Ke(t),null;case 10:return Bo(t.type._context),Ke(t),null;case 17:return tt(t.type)&&Wi(),Ke(t),null;case 19:if(Se(Ee),c=t.memoizedState,c===null)return Ke(t),null;if(o=(t.flags&128)!==0,f=c.rendering,f===null)if(o)Xn(c,!1);else{if(Le!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=es(e),f!==null){for(t.flags|=128,Xn(c,!1),o=f.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)c=n,e=o,c.flags&=14680066,f=c.alternate,f===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=f.childLanes,c.lanes=f.lanes,c.child=f.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=f.memoizedProps,c.memoizedState=f.memoizedState,c.updateQueue=f.updateQueue,c.type=f.type,e=f.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(Ee,Ee.current&1|2),t.child}e=e.sibling}c.tail!==null&&Re()>sn&&(t.flags|=128,o=!0,Xn(c,!1),t.lanes=4194304)}else{if(!o)if(e=es(f),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xn(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!ke)return Ke(t),null}else 2*Re()-c.renderingStartTime>sn&&n!==1073741824&&(t.flags|=128,o=!0,Xn(c,!1),t.lanes=4194304);c.isBackwards?(f.sibling=t.child,t.child=f):(n=c.last,n!==null?n.sibling=f:t.child=f,c.last=f)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Re(),t.sibling=null,n=Ee.current,ye(Ee,o?n&1|2:n&1),t):(Ke(t),null);case 22:case 23:return Ta(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(ct&1073741824)!==0&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function bf(e,t){switch(Lo(t),t.tag){case 1:return tt(t.type)&&Wi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return en(),Se(et),Se(qe),Go(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ho(t),null;case 13:if(Se(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(Ee),null;case 4:return en(),null;case 10:return Bo(t.type._context),null;case 22:case 23:return Ta(),null;case 24:return null;default:return null}}var us=!1,Ge=!1,xf=typeof WeakSet=="function"?WeakSet:Set,H=null;function rn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){xe(e,t,o)}else n.current=null}function pa(e,t,n){try{n()}catch(o){xe(e,t,o)}}var Tc=!1;function Tf(e,t){if(To=Oi,e=iu(),yo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var l=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var f=0,v=-1,y=-1,x=0,I=0,L=e,j=null;t:for(;;){for(var V;L!==n||l!==0&&L.nodeType!==3||(v=f+l),L!==c||o!==0&&L.nodeType!==3||(y=f+o),L.nodeType===3&&(f+=L.nodeValue.length),(V=L.firstChild)!==null;)j=L,L=V;for(;;){if(L===e)break t;if(j===n&&++x===l&&(v=f),j===c&&++I===o&&(y=f),(V=L.nextSibling)!==null)break;L=j,j=L.parentNode}L=V}n=v===-1||y===-1?null:{start:v,end:y}}else n=null}n=n||{start:0,end:0}}else n=null;for(Co={focusedElem:e,selectionRange:n},Oi=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var K=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(K!==null){var G=K.memoizedProps,Oe=K.memoizedState,E=t.stateNode,_=E.getSnapshotBeforeUpdate(t.elementType===t.type?G:bt(t.type,G),Oe);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(U){xe(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return K=Tc,Tc=!1,K}function Zn(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&e)===e){var c=l.destroy;l.destroy=void 0,c!==void 0&&pa(t,n,c)}l=l.next}while(l!==o)}}function cs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function ga(e){var t=e.ref;if(t!==null){var n=e.stateNode;e.tag,e=n,typeof t=="function"?t(e):t.current=e}}function Cc(e){var t=e.alternate;t!==null&&(e.alternate=null,Cc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jt],delete t[Fn],delete t[Ao],delete t[lf],delete t[uf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rc(e){return e.tag===5||e.tag===3||e.tag===4}function Oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function va(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Bi));else if(o!==4&&(e=e.child,e!==null))for(va(e,t,n),e=e.sibling;e!==null;)va(e,t,n),e=e.sibling}function ma(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(ma(e,t,n),e=e.sibling;e!==null;)ma(e,t,n),e=e.sibling}var Me=null,xt=!1;function or(e,t,n){for(n=n.child;n!==null;)Pc(e,t,n),n=n.sibling}function Pc(e,t,n){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Ei,n)}catch{}switch(n.tag){case 5:Ge||rn(n,t);case 6:var o=Me,l=xt;Me=null,or(e,t,n),Me=o,xt=l,Me!==null&&(xt?(e=Me,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(xt?(e=Me,n=n.stateNode,e.nodeType===8?Po(e.parentNode,n):e.nodeType===1&&Po(e,n),An(e)):Po(Me,n.stateNode));break;case 4:o=Me,l=xt,Me=n.stateNode.containerInfo,xt=!0,or(e,t,n),Me=o,xt=l;break;case 0:case 11:case 14:case 15:if(!Ge&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){l=o=o.next;do{var c=l,f=c.destroy;c=c.tag,f!==void 0&&((c&2)!==0||(c&4)!==0)&&pa(n,t,f),l=l.next}while(l!==o)}or(e,t,n);break;case 1:if(!Ge&&(rn(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(v){xe(n,t,v)}or(e,t,n);break;case 21:or(e,t,n);break;case 22:n.mode&1?(Ge=(o=Ge)||n.memoizedState!==null,or(e,t,n),Ge=o):or(e,t,n);break;default:or(e,t,n)}}function Ac(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new xf),t.forEach(function(o){var l=Lf.bind(null,e,o);n.has(o)||(n.add(o),o.then(l,l))})}}function Tt(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var l=n[o];try{var c=e,f=t,v=f;e:for(;v!==null;){switch(v.tag){case 5:Me=v.stateNode,xt=!1;break e;case 3:Me=v.stateNode.containerInfo,xt=!0;break e;case 4:Me=v.stateNode.containerInfo,xt=!0;break e}v=v.return}if(Me===null)throw Error(i(160));Pc(c,f,l),Me=null,xt=!1;var y=l.alternate;y!==null&&(y.return=null),l.return=null}catch(x){xe(l,t,x)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jc(t,e),t=t.sibling}function jc(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Lt(e),o&4){try{Zn(3,e,e.return),cs(3,e)}catch(G){xe(e,e.return,G)}try{Zn(5,e,e.return)}catch(G){xe(e,e.return,G)}}break;case 1:Tt(t,e),Lt(e),o&512&&n!==null&&rn(n,n.return);break;case 5:if(Tt(t,e),Lt(e),o&512&&n!==null&&rn(n,n.return),e.flags&32){var l=e.stateNode;try{_n(l,"")}catch(G){xe(e,e.return,G)}}if(o&4&&(l=e.stateNode,l!=null)){var c=e.memoizedProps,f=n!==null?n.memoizedProps:c,v=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{v==="input"&&c.type==="radio"&&c.name!=null&&ol(l,c),Ks(v,f);var x=Ks(v,c);for(f=0;f<y.length;f+=2){var I=y[f],L=y[f+1];I==="style"?pl(l,L):I==="dangerouslySetInnerHTML"?hl(l,L):I==="children"?_n(l,L):z(l,I,L,x)}switch(v){case"input":Fs(l,c);break;case"textarea":ul(l,c);break;case"select":var j=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!c.multiple;var V=c.value;V!=null?Lr(l,!!c.multiple,V,!1):j!==!!c.multiple&&(c.defaultValue!=null?Lr(l,!!c.multiple,c.defaultValue,!0):Lr(l,!!c.multiple,c.multiple?[]:"",!1))}l[Fn]=c}catch(G){xe(e,e.return,G)}}break;case 6:if(Tt(t,e),Lt(e),o&4){if(e.stateNode===null)throw Error(i(162));l=e.stateNode,c=e.memoizedProps;try{l.nodeValue=c}catch(G){xe(e,e.return,G)}}break;case 3:if(Tt(t,e),Lt(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{An(t.containerInfo)}catch(G){xe(e,e.return,G)}break;case 4:Tt(t,e),Lt(e);break;case 13:Tt(t,e),Lt(e),l=e.child,l.flags&8192&&(c=l.memoizedState!==null,l.stateNode.isHidden=c,!c||l.alternate!==null&&l.alternate.memoizedState!==null||(_a=Re())),o&4&&Ac(e);break;case 22:if(I=n!==null&&n.memoizedState!==null,e.mode&1?(Ge=(x=Ge)||I,Tt(t,e),Ge=x):Tt(t,e),Lt(e),o&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!I&&(e.mode&1)!==0)for(H=e,I=e.child;I!==null;){for(L=H=I;H!==null;){switch(j=H,V=j.child,j.tag){case 0:case 11:case 14:case 15:Zn(4,j,j.return);break;case 1:rn(j,j.return);var K=j.stateNode;if(typeof K.componentWillUnmount=="function"){o=j,n=j.return;try{t=o,K.props=t.memoizedProps,K.state=t.memoizedState,K.componentWillUnmount()}catch(G){xe(o,n,G)}}break;case 5:rn(j,j.return);break;case 22:if(j.memoizedState!==null){Lc(L);continue}}V!==null?(V.return=j,H=V):Lc(L)}I=I.sibling}e:for(I=null,L=e;;){if(L.tag===5){if(I===null){I=L;try{l=L.stateNode,x?(c=l.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(v=L.stateNode,y=L.memoizedProps.style,f=y!=null&&y.hasOwnProperty("display")?y.display:null,v.style.display=fl("display",f))}catch(G){xe(e,e.return,G)}}}else if(L.tag===6){if(I===null)try{L.stateNode.nodeValue=x?"":L.memoizedProps}catch(G){xe(e,e.return,G)}}else if((L.tag!==22&&L.tag!==23||L.memoizedState===null||L===e)&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===e)break e;for(;L.sibling===null;){if(L.return===null||L.return===e)break e;I===L&&(I=null),L=L.return}I===L&&(I=null),L.sibling.return=L.return,L=L.sibling}}break;case 19:Tt(t,e),Lt(e),o&4&&Ac(e);break;case 21:break;default:Tt(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Rc(n)){var o=n;break e}n=n.return}throw Error(i(160))}switch(o.tag){case 5:var l=o.stateNode;o.flags&32&&(_n(l,""),o.flags&=-33);var c=Oc(e);ma(e,c,l);break;case 3:case 4:var f=o.stateNode.containerInfo,v=Oc(e);va(e,v,f);break;default:throw Error(i(161))}}catch(y){xe(e,e.return,y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cf(e,t,n){H=e,Nc(e)}function Nc(e,t,n){for(var o=(e.mode&1)!==0;H!==null;){var l=H,c=l.child;if(l.tag===22&&o){var f=l.memoizedState!==null||us;if(!f){var v=l.alternate,y=v!==null&&v.memoizedState!==null||Ge;v=us;var x=Ge;if(us=f,(Ge=y)&&!x)for(H=l;H!==null;)f=H,y=f.child,f.tag===22&&f.memoizedState!==null?$c(l):y!==null?(y.return=f,H=y):$c(l);for(;c!==null;)H=c,Nc(c),c=c.sibling;H=l,us=v,Ge=x}Ic(e)}else(l.subtreeFlags&8772)!==0&&c!==null?(c.return=l,H=c):Ic(e)}}function Ic(e){for(;H!==null;){var t=H;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ge||cs(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Ge)if(n===null)o.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:bt(t.type,n.memoizedProps);o.componentDidUpdate(l,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&Lu(t,c,o);break;case 3:var f=t.updateQueue;if(f!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Lu(t,f,n)}break;case 5:var v=t.stateNode;if(n===null&&t.flags&4){n=v;var y=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&n.focus();break;case"img":y.src&&(n.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var x=t.alternate;if(x!==null){var I=x.memoizedState;if(I!==null){var L=I.dehydrated;L!==null&&An(L)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Ge||t.flags&512&&ga(t)}catch(j){xe(t,t.return,j)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function Lc(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function $c(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cs(4,t)}catch(y){xe(t,n,y)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var l=t.return;try{o.componentDidMount()}catch(y){xe(t,l,y)}}var c=t.return;try{ga(t)}catch(y){xe(t,c,y)}break;case 5:var f=t.return;try{ga(t)}catch(y){xe(t,f,y)}}}catch(y){xe(t,t.return,y)}if(t===e){H=null;break}var v=t.sibling;if(v!==null){v.return=t.return,H=v;break}H=t.return}}var Rf=Math.ceil,ds=Q.ReactCurrentDispatcher,ya=Q.ReactCurrentOwner,wt=Q.ReactCurrentBatchConfig,ce=0,Ue=null,Ae=null,Be=0,ct=0,nn=tr(0),Le=0,ei=null,Er=0,hs=0,wa=0,ti=null,nt=null,_a=0,sn=1/0,Vt=null,fs=!1,Sa=null,ar=null,ps=!1,lr=null,gs=0,ri=0,ka=null,vs=-1,ms=0;function Ze(){return(ce&6)!==0?Re():vs!==-1?vs:vs=Re()}function ur(e){return(e.mode&1)===0?1:(ce&2)!==0&&Be!==0?Be&-Be:df.transition!==null?(ms===0&&(ms=Ol()),ms):(e=pe,e!==0||(e=window.event,e=e===void 0?16:Ul(e.type)),e)}function Ct(e,t,n,o){if(50<ri)throw ri=0,ka=null,Error(i(185));Tn(e,n,o),((ce&2)===0||e!==Ue)&&(e===Ue&&((ce&2)===0&&(hs|=n),Le===4&&cr(e,Be)),it(e,o),n===1&&ce===0&&(t.mode&1)===0&&(sn=Re()+500,qi&&nr()))}function it(e,t){var n=e.callbackNode;ch(e,t);var o=Ti(e,e===Ue?Be:0);if(o===0)n!==null&&Tl(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&Tl(n),t===1)e.tag===0?cf(Uc.bind(null,e)):Eu(Uc.bind(null,e)),of(function(){(ce&6)===0&&nr()}),n=null;else{switch(Pl(o)){case 1:n=eo;break;case 4:n=Cl;break;case 16:n=ki;break;case 536870912:n=Rl;break;default:n=ki}n=Hc(n,Dc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Dc(e,t){if(vs=-1,ms=0,(ce&6)!==0)throw Error(i(327));var n=e.callbackNode;if(on()&&e.callbackNode!==n)return null;var o=Ti(e,e===Ue?Be:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=ys(e,o);else{t=o;var l=ce;ce|=2;var c=Mc();(Ue!==e||Be!==t)&&(Vt=null,sn=Re()+500,xr(e,t));do try{Af();break}catch(v){zc(e,v)}while(!0);Mo(),ds.current=c,ce=l,Ae!==null?t=0:(Ue=null,Be=0,t=Le)}if(t!==0){if(t===2&&(l=to(e),l!==0&&(o=l,t=Ea(e,l))),t===1)throw n=ei,xr(e,0),cr(e,o),it(e,Re()),n;if(t===6)cr(e,o);else{if(l=e.current.alternate,(o&30)===0&&!Of(l)&&(t=ys(e,o),t===2&&(c=to(e),c!==0&&(o=c,t=Ea(e,c))),t===1))throw n=ei,xr(e,0),cr(e,o),it(e,Re()),n;switch(e.finishedWork=l,e.finishedLanes=o,t){case 0:case 1:throw Error(i(345));case 2:Tr(e,nt,Vt);break;case 3:if(cr(e,o),(o&130023424)===o&&(t=_a+500-Re(),10<t)){if(Ti(e,0)!==0)break;if(l=e.suspendedLanes,(l&o)!==o){Ze(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Oo(Tr.bind(null,e,nt,Vt),t);break}Tr(e,nt,Vt);break;case 4:if(cr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,l=-1;0<o;){var f=31-St(o);c=1<<f,f=t[f],f>l&&(l=f),o&=~c}if(o=l,o=Re()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Rf(o/1960))-o,10<o){e.timeoutHandle=Oo(Tr.bind(null,e,nt,Vt),o);break}Tr(e,nt,Vt);break;case 5:Tr(e,nt,Vt);break;default:throw Error(i(329))}}}return it(e,Re()),e.callbackNode===n?Dc.bind(null,e):null}function Ea(e,t){var n=ti;return e.current.memoizedState.isDehydrated&&(xr(e,t).flags|=256),e=ys(e,t),e!==2&&(t=nt,nt=n,t!==null&&ba(t)),e}function ba(e){nt===null?nt=e:nt.push.apply(nt,e)}function Of(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var l=n[o],c=l.getSnapshot;l=l.value;try{if(!kt(c(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cr(e,t){for(t&=~wa,t&=~hs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-St(t),o=1<<n;e[n]=-1,t&=~o}}function Uc(e){if((ce&6)!==0)throw Error(i(327));on();var t=Ti(e,0);if((t&1)===0)return it(e,Re()),null;var n=ys(e,t);if(e.tag!==0&&n===2){var o=to(e);o!==0&&(t=o,n=Ea(e,o))}if(n===1)throw n=ei,xr(e,0),cr(e,t),it(e,Re()),n;if(n===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tr(e,nt,Vt),it(e,Re()),null}function xa(e,t){var n=ce;ce|=1;try{return e(t)}finally{ce=n,ce===0&&(sn=Re()+500,qi&&nr())}}function br(e){lr!==null&&lr.tag===0&&(ce&6)===0&&on();var t=ce;ce|=1;var n=wt.transition,o=pe;try{if(wt.transition=null,pe=1,e)return e()}finally{pe=o,wt.transition=n,ce=t,(ce&6)===0&&nr()}}function Ta(){ct=nn.current,Se(nn)}function xr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sf(n)),Ae!==null)for(n=Ae.return;n!==null;){var o=n;switch(Lo(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Wi();break;case 3:en(),Se(et),Se(qe),Go();break;case 5:Ho(o);break;case 4:en();break;case 13:Se(Ee);break;case 19:Se(Ee);break;case 10:Bo(o.type._context);break;case 22:case 23:Ta()}n=n.return}if(Ue=e,Ae=e=dr(e.current,null),Be=ct=t,Le=0,ei=null,wa=hs=Er=0,nt=ti=null,_r!==null){for(t=0;t<_r.length;t++)if(n=_r[t],o=n.interleaved,o!==null){n.interleaved=null;var l=o.next,c=n.pending;if(c!==null){var f=c.next;c.next=l,o.next=f}n.pending=o}_r=null}return e}function zc(e,t){do{var n=Ae;try{if(Mo(),ts.current=ss,rs){for(var o=be.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}rs=!1}if(kr=0,De=Ie=be=null,Gn=!1,Jn=0,ya.current=null,n===null||n.return===null){Le=1,ei=t,Ae=null;break}e:{var c=e,f=n.return,v=n,y=t;if(t=Be,v.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var x=y,I=v,L=I.tag;if((I.mode&1)===0&&(L===0||L===11||L===15)){var j=I.alternate;j?(I.updateQueue=j.updateQueue,I.memoizedState=j.memoizedState,I.lanes=j.lanes):(I.updateQueue=null,I.memoizedState=null)}var V=cc(f);if(V!==null){V.flags&=-257,dc(V,f,v,c,t),V.mode&1&&uc(c,x,t),t=V,y=x;var K=t.updateQueue;if(K===null){var G=new Set;G.add(y),t.updateQueue=G}else K.add(y);break e}else{if((t&1)===0){uc(c,x,t),Ca();break e}y=Error(i(426))}}else if(ke&&v.mode&1){var Oe=cc(f);if(Oe!==null){(Oe.flags&65536)===0&&(Oe.flags|=256),dc(Oe,f,v,c,t),Uo(tn(y,v));break e}}c=y=tn(y,v),Le!==4&&(Le=2),ti===null?ti=[c]:ti.push(c),c=f;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var E=ac(c,y,t);Iu(c,E);break e;case 1:v=y;var _=c.type,b=c.stateNode;if((c.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ar===null||!ar.has(b)))){c.flags|=65536,t&=-t,c.lanes|=t;var U=lc(c,v,t);Iu(c,U);break e}}c=c.return}while(c!==null)}Fc(n)}catch(J){t=J,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(!0)}function Mc(){var e=ds.current;return ds.current=ss,e===null?ss:e}function Ca(){(Le===0||Le===3||Le===2)&&(Le=4),Ue===null||(Er&268435455)===0&&(hs&268435455)===0||cr(Ue,Be)}function ys(e,t){var n=ce;ce|=2;var o=Mc();(Ue!==e||Be!==t)&&(Vt=null,xr(e,t));do try{Pf();break}catch(l){zc(e,l)}while(!0);if(Mo(),ce=n,ds.current=o,Ae!==null)throw Error(i(261));return Ue=null,Be=0,Le}function Pf(){for(;Ae!==null;)Bc(Ae)}function Af(){for(;Ae!==null&&!th();)Bc(Ae)}function Bc(e){var t=qc(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?Fc(e):Ae=t,ya.current=null}function Fc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Ef(n,t,ct),n!==null){Ae=n;return}}else{if(n=bf(n,t),n!==null){n.flags&=32767,Ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,Ae=null;return}}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);Le===0&&(Le=5)}function Tr(e,t,n){var o=pe,l=wt.transition;try{wt.transition=null,pe=1,jf(e,t,n,o)}finally{wt.transition=l,pe=o}return null}function jf(e,t,n,o){do on();while(lr!==null);if((ce&6)!==0)throw Error(i(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(dh(e,c),e===Ue&&(Ae=Ue=null,Be=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||ps||(ps=!0,Hc(ki,function(){return on(),null})),c=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||c){c=wt.transition,wt.transition=null;var f=pe;pe=1;var v=ce;ce|=4,ya.current=null,Tf(e,n),jc(n,e),Yh(Co),Oi=!!To,Co=To=null,e.current=n,Cf(n),rh(),ce=v,pe=f,wt.transition=c}else e.current=n;if(ps&&(ps=!1,lr=e,gs=l),c=e.pendingLanes,c===0&&(ar=null),sh(n.stateNode),it(e,Re()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],o(l.value,{componentStack:l.stack,digest:l.digest});if(fs)throw fs=!1,e=Sa,Sa=null,e;return(gs&1)!==0&&e.tag!==0&&on(),c=e.pendingLanes,(c&1)!==0?e===ka?ri++:(ri=0,ka=e):ri=0,nr(),null}function on(){if(lr!==null){var e=Pl(gs),t=wt.transition,n=pe;try{if(wt.transition=null,pe=16>e?16:e,lr===null)var o=!1;else{if(e=lr,lr=null,gs=0,(ce&6)!==0)throw Error(i(331));var l=ce;for(ce|=4,H=e.current;H!==null;){var c=H,f=c.child;if((H.flags&16)!==0){var v=c.deletions;if(v!==null){for(var y=0;y<v.length;y++){var x=v[y];for(H=x;H!==null;){var I=H;switch(I.tag){case 0:case 11:case 15:Zn(8,I,c)}var L=I.child;if(L!==null)L.return=I,H=L;else for(;H!==null;){I=H;var j=I.sibling,V=I.return;if(Cc(I),I===x){H=null;break}if(j!==null){j.return=V,H=j;break}H=V}}}var K=c.alternate;if(K!==null){var G=K.child;if(G!==null){K.child=null;do{var Oe=G.sibling;G.sibling=null,G=Oe}while(G!==null)}}H=c}}if((c.subtreeFlags&2064)!==0&&f!==null)f.return=c,H=f;else e:for(;H!==null;){if(c=H,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:Zn(9,c,c.return)}var E=c.sibling;if(E!==null){E.return=c.return,H=E;break e}H=c.return}}var _=e.current;for(H=_;H!==null;){f=H;var b=f.child;if((f.subtreeFlags&2064)!==0&&b!==null)b.return=f,H=b;else e:for(f=_;H!==null;){if(v=H,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:cs(9,v)}}catch(J){xe(v,v.return,J)}if(v===f){H=null;break e}var U=v.sibling;if(U!==null){U.return=v.return,H=U;break e}H=v.return}}if(ce=l,nr(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Ei,e)}catch{}o=!0}return o}finally{pe=n,wt.transition=t}}return!1}function Wc(e,t,n){t=tn(n,t),t=ac(e,t,1),e=sr(e,t,1),t=Ze(),e!==null&&(Tn(e,1,t),it(e,t))}function xe(e,t,n){if(e.tag===3)Wc(e,e,n);else for(;t!==null;){if(t.tag===3){Wc(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ar===null||!ar.has(o))){e=tn(n,e),e=lc(t,e,1),t=sr(t,e,1),e=Ze(),t!==null&&(Tn(t,1,e),it(t,e));break}}t=t.return}}function Nf(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&n,Ue===e&&(Be&n)===n&&(Le===4||Le===3&&(Be&130023424)===Be&&500>Re()-_a?xr(e,0):wa|=n),it(e,t)}function Vc(e,t){t===0&&((e.mode&1)===0?t=1:(t=xi,xi<<=1,(xi&130023424)===0&&(xi=4194304)));var n=Ze();e=Bt(e,t),e!==null&&(Tn(e,t,n),it(e,n))}function If(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vc(e,n)}function Lf(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(i(314))}o!==null&&o.delete(t),Vc(e,n)}var qc;qc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)rt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return rt=!1,kf(e,t,n);rt=(e.flags&131072)!==0}else rt=!1,ke&&(t.flags&1048576)!==0&&bu(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;ls(e,t),e=t.pendingProps;var l=Kr(t,qe.current);Zr(t,n),l=Yo(null,t,o,e,l,n);var c=Xo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(o)?(c=!0,Vi(t)):c=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Vo(t),l.updater=os,t.stateNode=l,l._reactInternals=t,ia(t,o,e,n),t=la(null,t,o,!0,c,n)):(t.tag=0,ke&&c&&Io(t),Xe(null,t,l,n),t=t.child),t;case 16:o=t.elementType;e:{switch(ls(e,t),e=t.pendingProps,l=o._init,o=l(o._payload),t.type=o,l=t.tag=Df(o),e=bt(o,e),l){case 0:t=aa(null,t,o,e,n);break e;case 1:t=mc(null,t,o,e,n);break e;case 11:t=hc(null,t,o,e,n);break e;case 14:t=fc(null,t,o,bt(o.type,e),n);break e}throw Error(i(306,o,""))}return t;case 0:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:bt(o,l),aa(e,t,o,l,n);case 1:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:bt(o,l),mc(e,t,o,l,n);case 3:e:{if(yc(t),e===null)throw Error(i(387));o=t.pendingProps,c=t.memoizedState,l=c.element,Nu(e,t),Zi(t,o,null,n);var f=t.memoizedState;if(o=f.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){l=tn(Error(i(423)),t),t=wc(e,t,o,n,l);break e}else if(o!==l){l=tn(Error(i(424)),t),t=wc(e,t,o,n,l);break e}else for(ut=er(t.stateNode.containerInfo.firstChild),lt=t,ke=!0,Et=null,n=Au(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qr(),o===l){t=Wt(e,t,n);break e}Xe(e,t,o,n)}t=t.child}return t;case 5:return $u(t),e===null&&Do(t),o=t.type,l=t.pendingProps,c=e!==null?e.memoizedProps:null,f=l.children,Ro(o,l)?f=null:c!==null&&Ro(o,c)&&(t.flags|=32),vc(e,t),Xe(e,t,f,n),t.child;case 6:return e===null&&Do(t),null;case 13:return _c(e,t,n);case 4:return qo(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Yr(t,null,o,n):Xe(e,t,o,n),t.child;case 11:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:bt(o,l),hc(e,t,o,l,n);case 7:return Xe(e,t,t.pendingProps,n),t.child;case 8:return Xe(e,t,t.pendingProps.children,n),t.child;case 12:return Xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,l=t.pendingProps,c=t.memoizedProps,f=l.value,ye(Qi,o._currentValue),o._currentValue=f,c!==null)if(kt(c.value,f)){if(c.children===l.children&&!et.current){t=Wt(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var v=c.dependencies;if(v!==null){f=c.child;for(var y=v.firstContext;y!==null;){if(y.context===o){if(c.tag===1){y=Ft(-1,n&-n),y.tag=2;var x=c.updateQueue;if(x!==null){x=x.shared;var I=x.pending;I===null?y.next=y:(y.next=I.next,I.next=y),x.pending=y}}c.lanes|=n,y=c.alternate,y!==null&&(y.lanes|=n),Fo(c.return,n,t),v.lanes|=n;break}y=y.next}}else if(c.tag===10)f=c.type===t.type?null:c.child;else if(c.tag===18){if(f=c.return,f===null)throw Error(i(341));f.lanes|=n,v=f.alternate,v!==null&&(v.lanes|=n),Fo(f,n,t),f=c.sibling}else f=c.child;if(f!==null)f.return=c;else for(f=c;f!==null;){if(f===t){f=null;break}if(c=f.sibling,c!==null){c.return=f.return,f=c;break}f=f.return}c=f}Xe(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,o=t.pendingProps.children,Zr(t,n),l=mt(l),o=o(l),t.flags|=1,Xe(e,t,o,n),t.child;case 14:return o=t.type,l=bt(o,t.pendingProps),l=bt(o.type,l),fc(e,t,o,l,n);case 15:return pc(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:bt(o,l),ls(e,t),t.tag=1,tt(o)?(e=!0,Vi(t)):e=!1,Zr(t,n),sc(t,o,l),ia(t,o,l,n),la(null,t,o,!0,e,n);case 19:return kc(e,t,n);case 22:return gc(e,t,n)}throw Error(i(156,t.tag))};function Hc(e,t){return xl(e,t)}function $f(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,n,o){return new $f(e,t,n,o)}function Ra(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Df(e){if(typeof e=="function")return Ra(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ft)return 11;if(e===pt)return 14}return 2}function dr(e,t){var n=e.alternate;return n===null?(n=_t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ws(e,t,n,o,l,c){var f=2;if(o=e,typeof e=="function")Ra(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case oe:return Cr(n.children,l,c,t);case me:f=8,l|=8;break;case Ce:return e=_t(12,n,t,l|2),e.elementType=Ce,e.lanes=c,e;case Qe:return e=_t(13,n,t,l),e.elementType=Qe,e.lanes=c,e;case ot:return e=_t(19,n,t,l),e.elementType=ot,e.lanes=c,e;case F:return _s(n,l,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ne:f=10;break e;case Je:f=9;break e;case ft:f=11;break e;case pt:f=14;break e;case D:f=16,o=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=_t(f,n,t,l),t.elementType=e,t.type=o,t.lanes=c,t}function Cr(e,t,n,o){return e=_t(7,e,o,t),e.lanes=n,e}function _s(e,t,n,o){return e=_t(22,e,o,t),e.elementType=F,e.lanes=n,e.stateNode={isHidden:!1},e}function Oa(e,t,n){return e=_t(6,e,null,t),e.lanes=n,e}function Pa(e,t,n){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uf(e,t,n,o,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ro(0),this.expirationTimes=ro(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ro(0),this.identifierPrefix=o,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Aa(e,t,n,o,l,c,f,v,y){return e=new Uf(e,t,n,v,y),t===1?(t=1,c===!0&&(t|=8)):t=0,c=_t(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vo(c),e}function zf(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function Kc(e){if(!e)return rr;e=e._reactInternals;e:{if(gr(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var n=e.type;if(tt(n))return Su(e,n,t)}return t}function Gc(e,t,n,o,l,c,f,v,y){return e=Aa(n,o,!0,e,l,c,f,v,y),e.context=Kc(null),n=e.current,o=Ze(),l=ur(n),c=Ft(o,l),c.callback=t??null,sr(n,c,l),e.current.lanes=l,Tn(e,l,o),it(e,o),e}function Ss(e,t,n,o){var l=t.current,c=Ze(),f=ur(l);return n=Kc(n),t.context===null?t.context=n:t.pendingContext=n,t=Ft(c,f),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=sr(l,t,f),e!==null&&(Ct(e,l,f,c),Xi(e,l,f)),f}function ks(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function Jc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ja(e,t){Jc(e,t),(e=e.alternate)&&Jc(e,t)}function Mf(){return null}var Qc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Na(e){this._internalRoot=e}Es.prototype.render=Na.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));Ss(e,t,null,null)},Es.prototype.unmount=Na.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;br(function(){Ss(null,e,null,null)}),t[Dt]=null}};function Es(e){this._internalRoot=e}Es.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nl();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yt.length&&t!==0&&t<Yt[n].priority;n++);Yt.splice(n,0,e),n===0&&$l(e)}};function Ia(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yc(){}function Bf(e,t,n,o,l){if(l){if(typeof o=="function"){var c=o;o=function(){var x=ks(f);c.call(x)}}var f=Gc(t,o,e,0,null,!1,!1,"",Yc);return e._reactRootContainer=f,e[Dt]=f.current,Mn(e.nodeType===8?e.parentNode:e),br(),f}for(;l=e.lastChild;)e.removeChild(l);if(typeof o=="function"){var v=o;o=function(){var x=ks(y);v.call(x)}}var y=Aa(e,0,!1,null,null,!1,!1,"",Yc);return e._reactRootContainer=y,e[Dt]=y.current,Mn(e.nodeType===8?e.parentNode:e),br(function(){Ss(t,y,n,o)}),y}function xs(e,t,n,o,l){var c=n._reactRootContainer;if(c){var f=c;if(typeof l=="function"){var v=l;l=function(){var y=ks(f);v.call(y)}}Ss(t,f,e,l)}else f=Bf(n,t,e,l,o);return ks(f)}Al=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xn(t.pendingLanes);n!==0&&(no(t,n|1),it(t,Re()),(ce&6)===0&&(sn=Re()+500,nr()))}break;case 13:br(function(){var o=Bt(e,1);if(o!==null){var l=Ze();Ct(o,e,1,l)}}),ja(e,1)}},io=function(e){if(e.tag===13){var t=Bt(e,134217728);if(t!==null){var n=Ze();Ct(t,e,134217728,n)}ja(e,134217728)}},jl=function(e){if(e.tag===13){var t=ur(e),n=Bt(e,t);if(n!==null){var o=Ze();Ct(n,e,t,o)}ja(e,t)}},Nl=function(){return pe},Il=function(e,t){var n=pe;try{return pe=e,t()}finally{pe=n}},Qs=function(e,t,n){switch(t){case"input":if(Fs(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var l=Fi(o);if(!l)throw Error(i(90));yi(o),Fs(o,l)}}}break;case"textarea":ul(e,n);break;case"select":t=n.value,t!=null&&Lr(e,!!n.multiple,t,!1)}},yl=xa,wl=br;var Ff={usingClientEntryPoint:!1,Events:[Wn,qr,Fi,vl,ml,xa]},ni={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wf={bundleType:ni.bundleType,version:ni.version,rendererPackageName:ni.rendererPackageName,rendererConfig:ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=El(e),e===null?null:e.stateNode},findFiberByHostInstance:ni.findFiberByHostInstance||Mf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ts.isDisabled&&Ts.supportsFiber)try{Ei=Ts.inject(Wf),At=Ts}catch{}}return st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ff,st.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ia(t))throw Error(i(200));return zf(e,t,null,n)},st.createRoot=function(e,t){if(!Ia(e))throw Error(i(299));var n=!1,o="",l=Qc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Aa(e,1,!1,null,null,n,!1,o,l),e[Dt]=t.current,Mn(e.nodeType===8?e.parentNode:e),new Na(t)},st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=El(t),e=e===null?null:e.stateNode,e},st.flushSync=function(e){return br(e)},st.hydrate=function(e,t,n){if(!bs(t))throw Error(i(200));return xs(null,e,t,!0,n)},st.hydrateRoot=function(e,t,n){if(!Ia(e))throw Error(i(405));var o=n!=null&&n.hydratedSources||null,l=!1,c="",f=Qc;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),t=Gc(t,null,e,1,n??null,l,!1,c,f),e[Dt]=t.current,Mn(e),o)for(e=0;e<o.length;e++)n=o[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Es(t)},st.render=function(e,t,n){if(!bs(t))throw Error(i(200));return xs(null,e,t,!1,n)},st.unmountComponentAtNode=function(e){if(!bs(e))throw Error(i(40));return e._reactRootContainer?(br(function(){xs(null,null,e,!1,function(){e._reactRootContainer=null,e[Dt]=null})}),!0):!1},st.unstable_batchedUpdates=xa,st.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!bs(n))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return xs(e,t,n,!1,o)},st.version="18.3.1-next-f1338f8080-20240426",st}var sd;function Xf(){if(sd)return Da.exports;sd=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Da.exports=Yf(),Da.exports}var od;function Zf(){if(od)return Cs;od=1;var s=Xf();return Cs.createRoot=s.createRoot,Cs.hydrateRoot=s.hydrateRoot,Cs}var ep=Zf();const tp=Ad(ep);function rp({onLogin:s}){const[r,i]=Ve.useState(""),[a,u]=Ve.useState(""),[d,h]=Ve.useState(""),p=g=>{g.preventDefault(),r==="admin"&&a==="123456"?s():h("Invalid username or password")};return R.jsxs("div",{className:"login-container",children:[R.jsxs("form",{className:"login-box",onSubmit:p,children:[R.jsx("h2",{children:"Company Dashboard Login"}),d&&R.jsx("p",{className:"error",children:d}),R.jsx("input",{type:"text",placeholder:"Username",value:r,onChange:g=>i(g.target.value),required:!0}),R.jsx("input",{type:"password",placeholder:"Password",value:a,onChange:g=>u(g.target.value),required:!0}),R.jsx("button",{type:"submit",children:"Login"})]}),R.jsx("style",{children:`
        .login-container {
          height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          background: #f4f6f8;
          font-family: DM Sans, sans-serif;
        }

        .login-box {
          width: 350px;
          background: white;
          padding: 30px;
          border-radius: 12px;
          box-shadow: 0 4px 20px rgba(0,0,0,0.1);
          display: flex;
          flex-direction: column;
          gap: 15px;
        }

        .login-box h2 {
          text-align: center;
        }

        .login-box input {
          padding: 12px;
          border: 1px solid #ccc;
          border-radius: 8px;
          font-size: 14px;
        }

        .login-box button {
          padding: 12px;
          border: none;
          background: #3b82f6;
          color: white;
          border-radius: 8px;
          cursor: pointer;
          font-weight: 600;
        }

        .error {
          color: red;
          font-size: 13px;
          text-align: center;
        }
      `})]})}function Us(s,r){var i={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&r.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(s);u<a.length;u++)r.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(s,a[u])&&(i[a[u]]=s[a[u]]);return i}function np(s,r,i,a){function u(d){return d instanceof i?d:new i(function(h){h(d)})}return new(i||(i=Promise))(function(d,h){function p(w){try{m(a.next(w))}catch(C){h(C)}}function g(w){try{m(a.throw(w))}catch(C){h(C)}}function m(w){w.done?d(w.value):u(w.value).then(p,g)}m((a=a.apply(s,r||[])).next())})}const ip=s=>s?(...r)=>s(...r):(...r)=>fetch(...r);class il extends Error{constructor(r,i="FunctionsError",a){super(r),this.name=i,this.context=a}}class sp extends il{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class ad extends il{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class ld extends il{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Ka;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Ka||(Ka={}));class op{constructor(r,{headers:i={},customFetch:a,region:u=Ka.Any}={}){this.url=r,this.headers=i,this.region=u,this.fetch=ip(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return np(this,arguments,void 0,function*(i,a={}){var u;let d,h;try{const{headers:p,method:g,body:m,signal:w,timeout:C}=a;let S={},{region:T}=a;T||(T=this.region);const O=new URL(`${this.url}/${i}`);T&&T!=="any"&&(S["x-region"]=T,O.searchParams.set("forceFunctionRegion",T));let P;m&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",P=m):typeof m=="string"?(S["Content-Type"]="text/plain",P=m):typeof FormData<"u"&&m instanceof FormData?P=m:(S["Content-Type"]="application/json",P=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?P=JSON.stringify(m):P=m;let N=w;C&&(h=new AbortController,d=setTimeout(()=>h.abort(),C),w?(N=h.signal,w.addEventListener("abort",()=>h.abort())):N=h.signal);const B=yield this.fetch(O.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),p),body:P,signal:N}).catch(de=>{throw new sp(de)}),W=B.headers.get("x-relay-error");if(W&&W==="true")throw new ad(B);if(!B.ok)throw new ld(B);let z=((u=B.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),Q;return z==="application/json"?Q=yield B.json():z==="application/octet-stream"||z==="application/pdf"?Q=yield B.blob():z==="text/event-stream"?Q=B:z==="multipart/form-data"?Q=yield B.formData():Q=yield B.text(),{data:Q,error:null,response:B}}catch(p){return{data:null,error:p,response:p instanceof ld||p instanceof ad?p.context:void 0}}finally{d&&clearTimeout(d)}})}}var ap=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},lp=class{constructor(s){var r,i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(r=s.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=s.signal,this.isMaybeSingle=(i=s.isMaybeSingle)!==null&&i!==void 0?i:!1,this.urlLengthLimit=(a=s.urlLengthLimit)!==null&&a!==void 0?a:8e3,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=new Headers(this.headers),this.headers.set(s,r),this}then(s,r){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let u=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let h=null,p=null,g=null,m=d.status,w=d.statusText;if(d.ok){var C,S;if(i.method!=="HEAD"){var T;const B=await d.text();B===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((T=i.headers.get("Accept"))===null||T===void 0)&&T.includes("application/vnd.pgrst.plan+text"))?p=B:p=JSON.parse(B))}const P=(C=i.headers.get("Prefer"))===null||C===void 0?void 0:C.match(/count=(exact|planned|estimated)/),N=(S=d.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");P&&N&&N.length>1&&(g=parseInt(N[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,g=null,m=406,w="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var O;const P=await d.text();try{h=JSON.parse(P),Array.isArray(h)&&d.status===404&&(p=[],h=null,m=200,w="OK")}catch{d.status===404&&P===""?(m=204,w="No Content"):h={message:P}}if(h&&i.isMaybeSingle&&(!(h==null||(O=h.details)===null||O===void 0)&&O.includes("0 rows"))&&(h=null,m=200,w="OK"),h&&i.shouldThrowOnError)throw new ap(h)}return{error:h,data:p,count:g,status:m,statusText:w}});return this.shouldThrowOnError||(u=u.catch(d=>{var h;let p="",g="",m="";const w=d?.cause;if(w){var C,S,T,O;const B=(C=w?.message)!==null&&C!==void 0?C:"",W=(S=w?.code)!==null&&S!==void 0?S:"";p=`${(T=d?.name)!==null&&T!==void 0?T:"FetchError"}: ${d?.message}`,p+=`

Caused by: ${(O=w?.name)!==null&&O!==void 0?O:"Error"}: ${B}`,W&&(p+=` (${W})`),w?.stack&&(p+=`
${w.stack}`)}else{var P;p=(P=d?.stack)!==null&&P!==void 0?P:""}const N=this.url.toString().length;return d?.name==="AbortError"||d?.code==="ABORT_ERR"?(m="",g="Request was aborted (timeout or manual cancellation)",N>this.urlLengthLimit&&(g+=`. Note: Your request URL is ${N} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(w?.name==="HeadersOverflowError"||w?.code==="UND_ERR_HEADERS_OVERFLOW")&&(m="",g="HTTP headers exceeded server limits (typically 16KB)",N>this.urlLengthLimit&&(g+=`. Your request URL is ${N} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(h=d?.name)!==null&&h!==void 0?h:"FetchError"}: ${d?.message}`,details:p,hint:g,code:m},data:null,count:null,status:0,statusText:""}})),u.then(s,r)}returns(){return this}overrideTypes(){return this}},up=class extends lp{select(s){let r=!1;const i=(s??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:r=!0,nullsFirst:i,foreignTable:a,referencedTable:u=a}={}){const d=u?`${u}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${s}.${r?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,r,{foreignTable:i,referencedTable:a=i}={}){const u=typeof a>"u"?"offset":`${a}.offset`,d=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(d,`${r-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:r=!1,settings:i=!1,buffers:a=!1,wal:u=!1,format:d="text"}={}){var h;const p=[s?"analyze":null,r?"verbose":null,i?"settings":null,a?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${g}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const ud=new RegExp("[,()]");var fn=class extends up{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}regexMatch(s,r){return this.url.searchParams.append(s,`match.${r}`),this}regexIMatch(s,r){return this.url.searchParams.append(s,`imatch.${r}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}isDistinct(s,r){return this.url.searchParams.append(s,`isdistinct.${r}`),this}in(s,r){const i=Array.from(new Set(r)).map(a=>typeof a=="string"&&ud.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${i})`),this}notIn(s,r){const i=Array.from(new Set(r)).map(a=>typeof a=="string"&&ud.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`not.in.(${i})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:i,type:a}={}){let u="";a==="plain"?u="pl":a==="phrase"?u="ph":a==="websearch"&&(u="w");const d=i===void 0?"":`(${i})`;return this.url.searchParams.append(s,`${u}fts${d}.${r}`),this}match(s){return Object.entries(s).forEach(([r,i])=>{this.url.searchParams.append(r,`eq.${i}`)}),this}not(s,r,i){return this.url.searchParams.append(s,`not.${r}.${i}`),this}or(s,{foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,r,i){return this.url.searchParams.append(s,`${r}.${i}`),this}},cp=class{constructor(s,{headers:r={},schema:i,fetch:a,urlLengthLimit:u=8e3}){this.url=s,this.headers=new Headers(r),this.schema=i,this.fetch=a,this.urlLengthLimit=u}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,r){const{head:i=!1,count:a}=r??{},u=i?"HEAD":"GET";let d=!1;const h=(s??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join(""),{url:p,headers:g}=this.cloneRequestState();return p.searchParams.set("select",h),a&&g.append("Prefer",`count=${a}`),new fn({method:u,url:p,headers:g,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(s,{count:r,defaultToNull:i=!0}={}){var a;const u="POST",{url:d,headers:h}=this.cloneRequestState();if(r&&h.append("Prefer",`count=${r}`),i||h.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((g,m)=>g.concat(Object.keys(m)),[]);if(p.length>0){const g=[...new Set(p)].map(m=>`"${m}"`);d.searchParams.set("columns",g.join(","))}}return new fn({method:u,url:d,headers:h,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(s,{onConflict:r,ignoreDuplicates:i=!1,count:a,defaultToNull:u=!0}={}){var d;const h="POST",{url:p,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),r!==void 0&&p.searchParams.set("on_conflict",r),a&&g.append("Prefer",`count=${a}`),u||g.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((w,C)=>w.concat(Object.keys(C)),[]);if(m.length>0){const w=[...new Set(m)].map(C=>`"${C}"`);p.searchParams.set("columns",w.join(","))}}return new fn({method:h,url:p,headers:g,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}update(s,{count:r}={}){var i;const a="PATCH",{url:u,headers:d}=this.cloneRequestState();return r&&d.append("Prefer",`count=${r}`),new fn({method:a,url:u,headers:d,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:s}={}){var r;const i="DELETE",{url:a,headers:u}=this.cloneRequestState();return s&&u.append("Prefer",`count=${s}`),new fn({method:i,url:a,headers:u,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}};function ci(s){"@babel/helpers - typeof";return ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ci(s)}function dp(s,r){if(ci(s)!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var a=i.call(s,r);if(ci(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function hp(s){var r=dp(s,"string");return ci(r)=="symbol"?r:r+""}function fp(s,r,i){return(r=hp(r))in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function cd(s,r){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);r&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),i.push.apply(i,a)}return i}function Rs(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?cd(Object(i),!0).forEach(function(a){fp(s,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):cd(Object(i)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(i,a))})}return s}var pp=class jd{constructor(r,{headers:i={},schema:a,fetch:u,timeout:d,urlLengthLimit:h=8e3}={}){this.url=r,this.headers=new Headers(i),this.schemaName=a,this.urlLengthLimit=h;const p=u??globalThis.fetch;d!==void 0&&d>0?this.fetch=(g,m)=>{const w=new AbortController,C=setTimeout(()=>w.abort(),d),S=m?.signal;if(S){if(S.aborted)return clearTimeout(C),p(g,m);const T=()=>{clearTimeout(C),w.abort()};return S.addEventListener("abort",T,{once:!0}),p(g,Rs(Rs({},m),{},{signal:w.signal})).finally(()=>{clearTimeout(C),S.removeEventListener("abort",T)})}return p(g,Rs(Rs({},m),{},{signal:w.signal})).finally(()=>clearTimeout(C))}:this.fetch=p}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new cp(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(r){return new jd(this.url,{headers:this.headers,schema:r,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(r,i={},{head:a=!1,get:u=!1,count:d}={}){var h;let p;const g=new URL(`${this.url}/rpc/${r}`);let m;const w=T=>T!==null&&typeof T=="object"&&(!Array.isArray(T)||T.some(w)),C=a&&Object.values(i).some(w);C?(p="POST",m=i):a||u?(p=a?"HEAD":"GET",Object.entries(i).filter(([T,O])=>O!==void 0).map(([T,O])=>[T,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([T,O])=>{g.searchParams.append(T,O)})):(p="POST",m=i);const S=new Headers(this.headers);return C?S.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&S.set("Prefer",`count=${d}`),new fn({method:p,url:g,headers:S,schema:this.schemaName,body:m,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch,urlLengthLimit:this.urlLengthLimit})}};class gp{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const a=i.versions;if(a&&a.node){const u=a.node,d=parseInt(u.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let i=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(i+=`

Suggested solution: ${r.workaround}`),new Error(i)}static createWebSocket(r,i){const a=this.getWebSocketConstructor();return new a(r,i)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const vp="2.95.3",mp=`realtime-js/${vp}`,yp="1.0.0",Nd="2.0.0",dd=Nd,Ga=1e4,wp=1e3,_p=100;var fr;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(fr||(fr={}));var $e;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})($e||($e={}));var Pt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Pt||(Pt={}));var Ja;(function(s){s.websocket="websocket"})(Ja||(Ja={}));var Ar;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Ar||(Ar={}));class Sp{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,i){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(r));let a=[r.join_ref,r.ref,r.topic,r.event,r.payload];return i(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(r){var i;return this._isArrayBuffer((i=r.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var i,a;const u=(a=(i=r.payload)===null||i===void 0?void 0:i.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(r){var i,a;const u=(a=(i=r.payload)===null||i===void 0?void 0:i.payload)!==null&&a!==void 0?a:{},h=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(r,i,a){var u,d;const h=r.topic,p=(u=r.ref)!==null&&u!==void 0?u:"",g=(d=r.join_ref)!==null&&d!==void 0?d:"",m=r.payload.event,w=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},C=Object.keys(w).length===0?"":JSON.stringify(w);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(C.length>255)throw new Error(`metadata length ${C.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+p.length+h.length+m.length+C.length,T=new ArrayBuffer(this.HEADER_LENGTH+S);let O=new DataView(T),P=0;O.setUint8(P++,this.KINDS.userBroadcastPush),O.setUint8(P++,g.length),O.setUint8(P++,p.length),O.setUint8(P++,h.length),O.setUint8(P++,m.length),O.setUint8(P++,C.length),O.setUint8(P++,i),Array.from(g,B=>O.setUint8(P++,B.charCodeAt(0))),Array.from(p,B=>O.setUint8(P++,B.charCodeAt(0))),Array.from(h,B=>O.setUint8(P++,B.charCodeAt(0))),Array.from(m,B=>O.setUint8(P++,B.charCodeAt(0))),Array.from(C,B=>O.setUint8(P++,B.charCodeAt(0)));var N=new Uint8Array(T.byteLength+a.byteLength);return N.set(new Uint8Array(T),0),N.set(new Uint8Array(a),T.byteLength),N.buffer}decode(r,i){if(this._isArrayBuffer(r)){let a=this._binaryDecode(r);return i(a)}if(typeof r=="string"){const a=JSON.parse(r),[u,d,h,p,g]=a;return i({join_ref:u,ref:d,topic:h,event:p,payload:g})}return i({})}_binaryDecode(r){const i=new DataView(r),a=i.getUint8(0),u=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(r,i,u)}_decodeUserBroadcast(r,i,a){const u=i.getUint8(1),d=i.getUint8(2),h=i.getUint8(3),p=i.getUint8(4);let g=this.HEADER_LENGTH+4;const m=a.decode(r.slice(g,g+u));g=g+u;const w=a.decode(r.slice(g,g+d));g=g+d;const C=a.decode(r.slice(g,g+h));g=g+h;const S=r.slice(g,r.byteLength),T=p===this.JSON_ENCODING?JSON.parse(a.decode(S)):S,O={type:this.BROADCAST_EVENT,event:w,payload:T};return h>0&&(O.meta=JSON.parse(C)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(r){var i;return r instanceof ArrayBuffer||((i=r?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(r,i){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([a])=>i.includes(a)))}}class Id{constructor(r,i){this.callback=r,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var we;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(we||(we={}));const hd=(s,r,i={})=>{var a;const u=(a=i.skipTypes)!==null&&a!==void 0?a:[];return r?Object.keys(r).reduce((d,h)=>(d[h]=kp(h,s,r,u),d),{}):{}},kp=(s,r,i,a)=>{const u=r.find(p=>p.name===s),d=u?.type,h=i[s];return d&&!a.includes(d)?Ld(d,h):Qa(h)},Ld=(s,r)=>{if(s.charAt(0)==="_"){const i=s.slice(1,s.length);return Tp(r,i)}switch(s){case we.bool:return Ep(r);case we.float4:case we.float8:case we.int2:case we.int4:case we.int8:case we.numeric:case we.oid:return bp(r);case we.json:case we.jsonb:return xp(r);case we.timestamp:return Cp(r);case we.abstime:case we.date:case we.daterange:case we.int4range:case we.int8range:case we.money:case we.reltime:case we.text:case we.time:case we.timestamptz:case we.timetz:case we.tsrange:case we.tstzrange:return Qa(r);default:return Qa(r)}},Qa=s=>s,Ep=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},bp=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},xp=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},Tp=(s,r)=>{if(typeof s!="string")return s;const i=s.length-1,a=s[i];if(s[0]==="{"&&a==="}"){let d;const h=s.slice(1,i);try{d=JSON.parse("["+h+"]")}catch{d=h?h.split(","):[]}return d.map(p=>Ld(r,p))}return s},Cp=s=>typeof s=="string"?s.replace(" ","T"):s,$d=s=>{const r=new URL(s);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class Ma{constructor(r,i,a={},u=Ga){this.channel=r,this.event=i,this.payload=a,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,i){var a;return this._hasReceived(r)&&i((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:i}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(i))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var fd;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(fd||(fd={}));class li{constructor(r,i){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},u=>{const{onJoin:d,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=li.syncState(this.state,u,d,h),this.pendingDiffs.forEach(g=>{this.state=li.syncDiff(this.state,g,d,h)}),this.pendingDiffs=[],p()}),this.channel._on(a.diff,{},u=>{const{onJoin:d,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=li.syncDiff(this.state,u,d,h),p())}),this.onJoin((u,d,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:h})}),this.onLeave((u,d,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,i,a,u){const d=this.cloneDeep(r),h=this.transformState(i),p={},g={};return this.map(d,(m,w)=>{h[m]||(g[m]=w)}),this.map(h,(m,w)=>{const C=d[m];if(C){const S=w.map(N=>N.presence_ref),T=C.map(N=>N.presence_ref),O=w.filter(N=>T.indexOf(N.presence_ref)<0),P=C.filter(N=>S.indexOf(N.presence_ref)<0);O.length>0&&(p[m]=O),P.length>0&&(g[m]=P)}else p[m]=w}),this.syncDiff(d,{joins:p,leaves:g},a,u)}static syncDiff(r,i,a,u){const{joins:d,leaves:h}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return a||(a=()=>{}),u||(u=()=>{}),this.map(d,(p,g)=>{var m;const w=(m=r[p])!==null&&m!==void 0?m:[];if(r[p]=this.cloneDeep(g),w.length>0){const C=r[p].map(T=>T.presence_ref),S=w.filter(T=>C.indexOf(T.presence_ref)<0);r[p].unshift(...S)}a(p,w,g)}),this.map(h,(p,g)=>{let m=r[p];if(!m)return;const w=g.map(C=>C.presence_ref);m=m.filter(C=>w.indexOf(C.presence_ref)<0),r[p]=m,u(p,m,g),m.length===0&&delete r[p]}),r}static map(r,i){return Object.getOwnPropertyNames(r).map(a=>i(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((i,a)=>{const u=r[a];return"metas"in u?i[a]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[a]=u,i},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pd;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(pd||(pd={}));var ui;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(ui||(ui={}));var qt;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(qt||(qt={}));class vn{constructor(r,i={config:{}},a){var u,d;if(this.topic=r,this.params=i,this.socket=a,this.bindings={},this.state=$e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Ma(this,Pt.join,this.params,this.timeout),this.rejoinTimer=new Id(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$e.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pt.reply,{},(h,p)=>{this._trigger(this._replyEventName(p),h)}),this.presence=new li(this),this.broadcastEndpointURL=$d(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,i=this.timeout){var a,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==$e.closed){const{config:{broadcast:h,presence:p,private:g}}=this.params,m=(u=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(T=>T.filter))!==null&&u!==void 0?u:[],w=!!this.bindings[ui.PRESENCE]&&this.bindings[ui.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,C={},S={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:w}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(C.access_token=this.socket.accessTokenValue),this._onError(T=>r?.(qt.CHANNEL_ERROR,T)),this._onClose(()=>r?.(qt.CLOSED)),this.updateJoinPayload(Object.assign({config:S},C)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:T})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),T===void 0){r?.(qt.SUBSCRIBED);return}else{const P=this.bindings.postgres_changes,N=(O=P?.length)!==null&&O!==void 0?O:0,B=[];for(let W=0;W<N;W++){const z=P[W],{filter:{event:Q,schema:de,table:ie,filter:oe}}=z,me=T&&T[W];if(me&&me.event===Q&&vn.isFilterValueEqual(me.schema,de)&&vn.isFilterValueEqual(me.table,ie)&&vn.isFilterValueEqual(me.filter,oe))B.push(Object.assign(Object.assign({},z),{id:me.id}));else{this.unsubscribe(),this.state=$e.errored,r?.(qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=B,r&&r(qt.SUBSCRIBED);return}}).receive("error",T=>{this.state=$e.errored,r?.(qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{r?.(qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,i={}){return await this.send({type:"presence",event:"track",payload:r},i.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,i,a){return this.state===$e.joined&&r===ui.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,i,a)}async httpSend(r,i,a={}){var u;if(i==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:i,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(u=a.timeout)!==null&&u!==void 0?u:this.timeout);if(p.status===202)return{success:!0};let g=p.statusText;try{const m=await p.json();g=m.error||m.message||g}catch{}return Promise.reject(new Error(g))}async send(r,i={}){var a,u;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:h}=r,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:h,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);return await((u=m.body)===null||u===void 0?void 0:u.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var h,p,g;const m=this._push(r.type,r,i.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),m.receive("ok",()=>d("ok")),m.receive("error",()=>d("error")),m.receive("timeout",()=>d("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=$e.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pt.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(u=>{a=new Ma(this,Pt.leave,{},r),a.receive("ok",()=>{i(),u("ok")}).receive("timeout",()=>{i(),u("timed out")}).receive("error",()=>{u("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=$e.closed,this.bindings={}}async _fetchWithTimeout(r,i,a){const u=new AbortController,d=setTimeout(()=>u.abort(),a),h=await this.socket.fetch(r,Object.assign(Object.assign({},i),{signal:u.signal}));return clearTimeout(d),h}_push(r,i,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Ma(this,r,i,a);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>_p){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(r,i,a){return i}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,i,a){var u,d;const h=r.toLocaleLowerCase(),{close:p,error:g,leave:m,join:w}=Pt;if(a&&[p,g,m,w].indexOf(h)>=0&&a!==this._joinRef())return;let S=this._onMessage(h,i,a);if(i&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(T=>{var O,P,N;return((O=T.filter)===null||O===void 0?void 0:O.event)==="*"||((N=(P=T.filter)===null||P===void 0?void 0:P.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===h}).map(T=>T.callback(S,a)):(d=this.bindings[h])===null||d===void 0||d.filter(T=>{var O,P,N,B,W,z;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in T){const Q=T.id,de=(O=T.filter)===null||O===void 0?void 0:O.event;return Q&&((P=i.ids)===null||P===void 0?void 0:P.includes(Q))&&(de==="*"||de?.toLocaleLowerCase()===((N=i.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const Q=(W=(B=T?.filter)===null||B===void 0?void 0:B.event)===null||W===void 0?void 0:W.toLocaleLowerCase();return Q==="*"||Q===((z=i?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===h}).map(T=>{if(typeof S=="object"&&"ids"in S){const O=S.data,{schema:P,table:N,commit_timestamp:B,type:W,errors:z}=O;S=Object.assign(Object.assign({},{schema:P,table:N,commit_timestamp:B,eventType:W,new:{},old:{},errors:z}),this._getPayloadRecords(O))}T.callback(S,a)})}_isClosed(){return this.state===$e.closed}_isJoined(){return this.state===$e.joined}_isJoining(){return this.state===$e.joining}_isLeaving(){return this.state===$e.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,i,a){const u=r.toLocaleLowerCase(),d={type:u,filter:i,callback:a};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(r,i){const a=r.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===a&&vn.isEqual(u.filter,i))})),this}static isEqual(r,i){if(Object.keys(r).length!==Object.keys(i).length)return!1;for(const a in r)if(r[a]!==i[a])return!1;return!0}static isFilterValueEqual(r,i){return(r??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Pt.close,{},r)}_onError(r){this._on(Pt.error,{},i=>r(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$e.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const i={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(i.new=hd(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(i.old=hd(r.columns,r.old_record)),i}}const Ba=()=>{},Os={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Rp=[1e3,2e3,5e3,1e4],Op=1e4,Pp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ap{constructor(r,i){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ga,this.transport=null,this.heartbeatIntervalMs=Os.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ba,this.ref=0,this.reconnectTimer=null,this.vsn=dd,this.logger=Ba,this.conn=null,this.sendBuffer=[],this.serializer=new Sp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...d)=>u(...d):(...d)=>fetch(...d),!(!((a=i?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${r}/${Ja.websocket}`,this.httpEndpoint=$d(r),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gp.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const i=r.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const i=await r.unsubscribe();return i==="ok"&&this._remove(r),this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const r=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,i,a){this.logger(r,i,a)}connectionState(){switch(this.conn&&this.conn.readyState){case fr.connecting:return Ar.Connecting;case fr.open:return Ar.Open;case fr.closing:return Ar.Closing;default:return Ar.Closed}}isConnected(){return this.connectionState()===Ar.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,i={config:{}}){const a=`realtime:${r}`,u=this.getChannels().find(d=>d.topic===a);if(u)return u;{const d=new vn(`realtime:${r}`,i,this);return this.channels.push(d),d}}push(r){const{topic:i,event:a,payload:u,ref:d}=r,h=()=>{this.encode(r,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${i} ${a} (${d})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(wp,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Os.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let i=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${r}"`),i.unsubscribe())}_remove(r){this.channels=this.channels.filter(i=>i.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",m)}catch(w){this.log("error","error in heartbeat callback",w)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:u,payload:d,ref:h}=i,p=h?`(${h})`:"",g=d.status||"";this.log("receive",`${g} ${a} ${u} ${p}`.trim(),d),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(u,d,h)),this._triggerStateCallbacks("message",i)})}_clearTimer(r){var i;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===fr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===fr.open||this.conn.readyState===fr.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var i;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r);try{this.heartbeatCallback("error")}catch(i){this.log("error","error in heartbeat callback",i)}}_triggerChanError(){this.channels.forEach(r=>r._trigger(Pt.error))}_appendParams(r,i){if(Object.keys(i).length===0)return r;const a=r.match(/\?/)?"&":"?",u=new URLSearchParams(i);return`${r}${a}${u}`}_workerObjectUrl(r){let i;if(r)i=r;else{const a=new Blob([Pp],{type:"application/javascript"});i=URL.createObjectURL(a)}return i}_setConnectionState(r,i=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(r=null){let i,a=!1;if(r)i=r,a=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),i=this.accessTokenValue}else i=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(u=>{const d={access_token:i,version:mp};i&&u.updateJoinPayload(d),u.joinedOnce&&u._isJoined()&&u._push(Pt.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${r}`,i)})}_triggerStateCallbacks(r,i){try{this.stateChangeCallbacks[r].forEach(a=>{try{a(i)}catch(u){this.log("error",`error in ${r} callback`,u)}})}catch(a){this.log("error",`error triggering ${r} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Id(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Os.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var i,a,u,d,h,p,g,m,w,C,S,T;switch(this.transport=(i=r?.transport)!==null&&i!==void 0?i:null,this.timeout=(a=r?.timeout)!==null&&a!==void 0?a:Ga,this.heartbeatIntervalMs=(u=r?.heartbeatIntervalMs)!==null&&u!==void 0?u:Os.HEARTBEAT_INTERVAL,this.worker=(d=r?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(h=r?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=r?.heartbeatCallback)!==null&&p!==void 0?p:Ba,this.vsn=(g=r?.vsn)!==null&&g!==void 0?g:dd,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=r?.reconnectAfterMs)!==null&&m!==void 0?m:(O=>Rp[O-1]||Op),this.vsn){case yp:this.encode=(w=r?.encode)!==null&&w!==void 0?w:((O,P)=>P(JSON.stringify(O))),this.decode=(C=r?.decode)!==null&&C!==void 0?C:((O,P)=>P(JSON.parse(O)));break;case Nd:this.encode=(S=r?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(T=r?.decode)!==null&&T!==void 0?T:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}var di=class extends Error{constructor(s,r){super(s),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&r.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function jp(s,r,i){const a=new URL(r,s);if(i)for(const[u,d]of Object.entries(i))d!==void 0&&a.searchParams.set(u,d);return a.toString()}async function Np(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function Ip(s){const r=s.fetchImpl??globalThis.fetch;return{async request({method:i,path:a,query:u,body:d,headers:h}){const p=jp(s.baseUrl,a,u),g=await Np(s.auth),m=await r(p,{method:i,headers:{...d?{"Content-Type":"application/json"}:{},...g,...h},body:d?JSON.stringify(d):void 0}),w=await m.text(),C=(m.headers.get("content-type")||"").includes("application/json"),S=C&&w?JSON.parse(w):w;if(!m.ok){const T=C?S:void 0,O=T?.error;throw new di(O?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:O?.type,icebergCode:O?.code,details:T})}return{status:m.status,headers:m.headers,data:S}}}}function Ps(s){return s.join("")}var Lp=class{constructor(s,r=""){this.client=s,this.prefix=r}async listNamespaces(s){const r=s?{parent:Ps(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(s,r){const i={namespace:s.namespace,properties:r?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ps(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ps(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ps(s.namespace)}`}),!0}catch(r){if(r instanceof di&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(s,r){try{return await this.createNamespace(s,r)}catch(i){if(i instanceof di&&i.status===409)return;throw i}}};function an(s){return s.join("")}var $p=class{constructor(s,r="",i){this.client=s,this.prefix=r,this.accessDelegation=i}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${an(s.namespace)}/tables`})).data.identifiers}async createTable(s,r){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${an(s.namespace)}/tables`,body:r,headers:i})).data.metadata}async updateTable(s,r){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${an(s.namespace)}/tables/${s.name}`,body:r});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(s,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${an(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(r?.purge??!1)}})}async loadTable(s){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${an(s.namespace)}/tables/${s.name}`,headers:r})).data.metadata}async tableExists(s){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${an(s.namespace)}/tables/${s.name}`,headers:r}),!0}catch(i){if(i instanceof di&&i.status===404)return!1;throw i}}async createTableIfNotExists(s,r){try{return await this.createTable(s,r)}catch(i){if(i instanceof di&&i.status===409)return await this.loadTable({namespace:s.namespace,name:r.name});throw i}}},Dp=class{constructor(s){let r="v1";s.catalogName&&(r+=`/${s.catalogName}`);const i=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=Ip({baseUrl:i,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new Lp(this.client,r),this.tableOps=new $p(this.client,r,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,r){return this.namespaceOps.createNamespace(s,r)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,r){return this.tableOps.createTable(s,r)}async updateTable(s,r){return this.tableOps.updateTable(s,r)}async dropTable(s,r){await this.tableOps.dropTable(s,r)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,r){return this.namespaceOps.createNamespaceIfNotExists(s,r)}async createTableIfNotExists(s,r){return this.tableOps.createTableIfNotExists(s,r)}},zs=class extends Error{constructor(s,r="storage",i,a){super(s),this.__isStorageError=!0,this.namespace=r,this.name=r==="vectors"?"StorageVectorsError":"StorageError",this.status=i,this.statusCode=a}};function Ms(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var As=class extends zs{constructor(s,r,i,a="storage"){super(s,a,r,i),this.name=a==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Dd=class extends zs{constructor(s,r,i="storage"){super(s,i),this.name=i==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=r}};const Up=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),zp=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Ya=s=>{if(Array.isArray(s))return s.map(i=>Ya(i));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([i,a])=>{const u=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));r[u]=Ya(a)}),r},Mp=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function hi(s){"@babel/helpers - typeof";return hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hi(s)}function Bp(s,r){if(hi(s)!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var a=i.call(s,r);if(hi(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function Fp(s){var r=Bp(s,"string");return hi(r)=="symbol"?r:r+""}function Wp(s,r,i){return(r=Fp(r))in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function gd(s,r){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);r&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),i.push.apply(i,a)}return i}function te(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?gd(Object(i),!0).forEach(function(a){Wp(s,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):gd(Object(i)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(i,a))})}return s}const vd=s=>{var r;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(r=s.error)===null||r===void 0?void 0:r.message)||JSON.stringify(s)},Vp=async(s,r,i,a)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!i?.noResolveJson){const u=s,d=u.status||500;if(typeof u.json=="function")u.json().then(h=>{const p=h?.statusCode||h?.code||d+"";r(new As(vd(h),d,p,a))}).catch(()=>{if(a==="vectors"){const h=d+"";r(new As(u.statusText||`HTTP ${d} error`,d,h,a))}else{const h=d+"";r(new As(u.statusText||`HTTP ${d} error`,d,h,a))}});else{const h=d+"";r(new As(u.statusText||`HTTP ${d} error`,d,h,a))}}else r(new Dd(vd(s),s,a))},qp=(s,r,i,a)=>{const u={method:s,headers:r?.headers||{}};return s==="GET"||s==="HEAD"||!a?te(te({},u),i):(zp(a)?(u.headers=te({"Content-Type":"application/json"},r?.headers),u.body=JSON.stringify(a)):u.body=a,r?.duplex&&(u.duplex=r.duplex),te(te({},u),i))};async function si(s,r,i,a,u,d,h){return new Promise((p,g)=>{s(i,qp(r,a,u,d)).then(m=>{if(!m.ok)throw m;if(a?.noResolveJson)return m;if(h==="vectors"){const w=m.headers.get("content-type");if(m.headers.get("content-length")==="0"||m.status===204)return{};if(!w||!w.includes("application/json"))return{}}return m.json()}).then(m=>p(m)).catch(m=>Vp(m,g,a,h))})}function Ud(s="storage"){return{get:async(r,i,a,u)=>si(r,"GET",i,a,u,void 0,s),post:async(r,i,a,u,d)=>si(r,"POST",i,u,d,a,s),put:async(r,i,a,u,d)=>si(r,"PUT",i,u,d,a,s),head:async(r,i,a,u)=>si(r,"HEAD",i,te(te({},a),{},{noResolveJson:!0}),u,void 0,s),remove:async(r,i,a,u,d)=>si(r,"DELETE",i,u,d,a,s)}}const Hp=Ud("storage"),{get:fi,post:Ot,put:Xa,head:Kp,remove:sl}=Hp,ht=Ud("vectors");var yn=class{constructor(s,r={},i,a="storage"){this.shouldThrowOnError=!1,this.url=s,this.headers=r,this.fetch=Up(i),this.namespace=a}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(s){var r=this;try{return{data:await s(),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ms(i))return{data:null,error:i};throw i}}},Gp=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r}then(s,r){return this.execute().then(s,r)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Ms(r))return{data:null,error:r};throw r}}};let zd;zd=Symbol.toStringTag;var Jp=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r,this[zd]="BlobDownloadBuilder",this.promise=null}asStream(){return new Gp(this.downloadFn,this.shouldThrowOnError)}then(s,r){return this.getPromise().then(s,r)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Ms(r))return{data:null,error:r};throw r}}};const Qp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},md={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Yp=class extends yn{constructor(s,r={},i,a){super(s,r,a,"storage"),this.bucketId=i}async uploadOrUpdate(s,r,i,a){var u=this;return u.handleOperation(async()=>{let d;const h=te(te({},md),a);let p=te(te({},u.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),g&&d.append("metadata",u.encodeMetadata(g)),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.has("cacheControl")||d.append("cacheControl",h.cacheControl),g&&!d.has("metadata")&&d.append("metadata",u.encodeMetadata(g))):(d=i,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,g&&(p["x-metadata"]=u.toBase64(u.encodeMetadata(g))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!h.duplex&&(h.duplex="half")),a?.headers&&(p=te(te({},p),a.headers));const m=u._removeEmptyFolders(r),w=u._getFinalPath(m),C=await(s=="PUT"?Xa:Ot)(u.fetch,`${u.url}/object/${w}`,d,te({headers:p},h?.duplex?{duplex:h.duplex}:{}));return{path:m,id:C.Id,fullPath:C.Key}})}async upload(s,r,i){return this.uploadOrUpdate("POST",s,r,i)}async uploadToSignedUrl(s,r,i,a){var u=this;const d=u._removeEmptyFolders(s),h=u._getFinalPath(d),p=new URL(u.url+`/object/upload/sign/${h}`);return p.searchParams.set("token",r),u.handleOperation(async()=>{let g;const m=te({upsert:md.upsert},a),w=te(te({},u.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",m.cacheControl)):(g=i,w["cache-control"]=`max-age=${m.cacheControl}`,w["content-type"]=m.contentType),{path:d,fullPath:(await Xa(u.fetch,p.toString(),g,{headers:w})).Key}})}async createSignedUploadUrl(s,r){var i=this;return i.handleOperation(async()=>{let a=i._getFinalPath(s);const u=te({},i.headers);r?.upsert&&(u["x-upsert"]="true");const d=await Ot(i.fetch,`${i.url}/object/upload/sign/${a}`,{},{headers:u}),h=new URL(i.url+d.url),p=h.searchParams.get("token");if(!p)throw new zs("No token returned by API");return{signedUrl:h.toString(),path:s,token:p}})}async update(s,r,i){return this.uploadOrUpdate("PUT",s,r,i)}async move(s,r,i){var a=this;return a.handleOperation(async()=>await Ot(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:s,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:a.headers}))}async copy(s,r,i){var a=this;return a.handleOperation(async()=>({path:(await Ot(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:s,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:a.headers})).Key}))}async createSignedUrl(s,r,i){var a=this;return a.handleOperation(async()=>{let u=a._getFinalPath(s),d=await Ot(a.fetch,`${a.url}/object/sign/${u}`,te({expiresIn:r},i?.transform?{transform:i.transform}:{}),{headers:a.headers});const h=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{signedUrl:encodeURI(`${a.url}${d.signedURL}${h}`)}})}async createSignedUrls(s,r,i){var a=this;return a.handleOperation(async()=>{const u=await Ot(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:r,paths:s},{headers:a.headers}),d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return u.map(h=>te(te({},h),{},{signedUrl:h.signedURL?encodeURI(`${a.url}${h.signedURL}${d}`):null}))})}download(s,r,i){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(r?.transform||{}),d=u?`?${u}`:"",h=this._getFinalPath(s),p=()=>fi(this.fetch,`${this.url}/${a}/${h}${d}`,{headers:this.headers,noResolveJson:!0},i);return new Jp(p,this.shouldThrowOnError)}async info(s){var r=this;const i=r._getFinalPath(s);return r.handleOperation(async()=>Ya(await fi(r.fetch,`${r.url}/object/info/${i}`,{headers:r.headers})))}async exists(s){var r=this;const i=r._getFinalPath(s);try{return await Kp(r.fetch,`${r.url}/object/${i}`,{headers:r.headers}),{data:!0,error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Ms(a)&&a instanceof Dd){const u=a.originalError;if([400,404].includes(u?.status))return{data:!1,error:a}}throw a}}getPublicUrl(s,r){const i=this._getFinalPath(s),a=[],u=r?.download?`download=${r.download===!0?"":r.download}`:"";u!==""&&a.push(u);const d=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&a.push(h);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${p}`)}}}async remove(s){var r=this;return r.handleOperation(async()=>await sl(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:s},{headers:r.headers}))}async list(s,r,i){var a=this;return a.handleOperation(async()=>{const u=te(te(te({},Qp),r),{},{prefix:s||""});return await Ot(a.fetch,`${a.url}/object/list/${a.bucketId}`,u,{headers:a.headers},i)})}async listV2(s,r){var i=this;return i.handleOperation(async()=>{const a=te({},s);return await Ot(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,a,{headers:i.headers},r)})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const r=[];return s.width&&r.push(`width=${s.width}`),s.height&&r.push(`height=${s.height}`),s.resize&&r.push(`resize=${s.resize}`),s.format&&r.push(`format=${s.format}`),s.quality&&r.push(`quality=${s.quality}`),r.join("&")}};const Xp="2.95.3",mi={"X-Client-Info":`storage-js/${Xp}`};var Zp=class extends yn{constructor(s,r={},i,a){const u=new URL(s);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase."));const d=u.href.replace(/\/$/,""),h=te(te({},mi),r);super(d,h,i,"storage")}async listBuckets(s){var r=this;return r.handleOperation(async()=>{const i=r.listBucketOptionsToQueryString(s);return await fi(r.fetch,`${r.url}/bucket${i}`,{headers:r.headers})})}async getBucket(s){var r=this;return r.handleOperation(async()=>await fi(r.fetch,`${r.url}/bucket/${s}`,{headers:r.headers}))}async createBucket(s,r={public:!1}){var i=this;return i.handleOperation(async()=>await Ot(i.fetch,`${i.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:i.headers}))}async updateBucket(s,r){var i=this;return i.handleOperation(async()=>await Xa(i.fetch,`${i.url}/bucket/${s}`,{id:s,name:s,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:i.headers}))}async emptyBucket(s){var r=this;return r.handleOperation(async()=>await Ot(r.fetch,`${r.url}/bucket/${s}/empty`,{},{headers:r.headers}))}async deleteBucket(s){var r=this;return r.handleOperation(async()=>await sl(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}))}listBucketOptionsToQueryString(s){const r={};return s&&("limit"in s&&(r.limit=String(s.limit)),"offset"in s&&(r.offset=String(s.offset)),s.search&&(r.search=s.search),s.sortColumn&&(r.sortColumn=s.sortColumn),s.sortOrder&&(r.sortOrder=s.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},eg=class extends yn{constructor(s,r={},i){const a=s.replace(/\/$/,""),u=te(te({},mi),r);super(a,u,i,"storage")}async createBucket(s){var r=this;return r.handleOperation(async()=>await Ot(r.fetch,`${r.url}/bucket`,{name:s},{headers:r.headers}))}async listBuckets(s){var r=this;return r.handleOperation(async()=>{const i=new URLSearchParams;s?.limit!==void 0&&i.set("limit",s.limit.toString()),s?.offset!==void 0&&i.set("offset",s.offset.toString()),s?.sortColumn&&i.set("sortColumn",s.sortColumn),s?.sortOrder&&i.set("sortOrder",s.sortOrder),s?.search&&i.set("search",s.search);const a=i.toString(),u=a?`${r.url}/bucket?${a}`:`${r.url}/bucket`;return await fi(r.fetch,u,{headers:r.headers})})}async deleteBucket(s){var r=this;return r.handleOperation(async()=>await sl(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}))}from(s){var r=this;if(!Mp(s))throw new zs("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new Dp({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(i,{get(u,d){const h=u[d];return typeof h!="function"?h:async(...p)=>{try{return{data:await h.apply(u,p),error:null}}catch(g){if(a)throw g;return{data:null,error:g}}}}})}},tg=class extends yn{constructor(s,r={},i){const a=s.replace(/\/$/,""),u=te(te({},mi),{},{"Content-Type":"application/json"},r);super(a,u,i,"vectors")}async createIndex(s){var r=this;return r.handleOperation(async()=>await ht.post(r.fetch,`${r.url}/CreateIndex`,s,{headers:r.headers})||{})}async getIndex(s,r){var i=this;return i.handleOperation(async()=>await ht.post(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:s,indexName:r},{headers:i.headers}))}async listIndexes(s){var r=this;return r.handleOperation(async()=>await ht.post(r.fetch,`${r.url}/ListIndexes`,s,{headers:r.headers}))}async deleteIndex(s,r){var i=this;return i.handleOperation(async()=>await ht.post(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:s,indexName:r},{headers:i.headers})||{})}},rg=class extends yn{constructor(s,r={},i){const a=s.replace(/\/$/,""),u=te(te({},mi),{},{"Content-Type":"application/json"},r);super(a,u,i,"vectors")}async putVectors(s){var r=this;if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return r.handleOperation(async()=>await ht.post(r.fetch,`${r.url}/PutVectors`,s,{headers:r.headers})||{})}async getVectors(s){var r=this;return r.handleOperation(async()=>await ht.post(r.fetch,`${r.url}/GetVectors`,s,{headers:r.headers}))}async listVectors(s){var r=this;if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return r.handleOperation(async()=>await ht.post(r.fetch,`${r.url}/ListVectors`,s,{headers:r.headers}))}async queryVectors(s){var r=this;return r.handleOperation(async()=>await ht.post(r.fetch,`${r.url}/QueryVectors`,s,{headers:r.headers}))}async deleteVectors(s){var r=this;if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return r.handleOperation(async()=>await ht.post(r.fetch,`${r.url}/DeleteVectors`,s,{headers:r.headers})||{})}},ng=class extends yn{constructor(s,r={},i){const a=s.replace(/\/$/,""),u=te(te({},mi),{},{"Content-Type":"application/json"},r);super(a,u,i,"vectors")}async createBucket(s){var r=this;return r.handleOperation(async()=>await ht.post(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{})}async getBucket(s){var r=this;return r.handleOperation(async()=>await ht.post(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:s},{headers:r.headers}))}async listBuckets(s={}){var r=this;return r.handleOperation(async()=>await ht.post(r.fetch,`${r.url}/ListVectorBuckets`,s,{headers:r.headers}))}async deleteBucket(s){var r=this;return r.handleOperation(async()=>await ht.post(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{})}},ig=class extends ng{constructor(s,r={}){super(s,r.headers||{},r.fetch)}from(s){return new sg(this.url,this.headers,s,this.fetch)}async createBucket(s){var r=()=>super.createBucket,i=this;return r().call(i,s)}async getBucket(s){var r=()=>super.getBucket,i=this;return r().call(i,s)}async listBuckets(s={}){var r=()=>super.listBuckets,i=this;return r().call(i,s)}async deleteBucket(s){var r=()=>super.deleteBucket,i=this;return r().call(i,s)}},sg=class extends tg{constructor(s,r,i,a){super(s,r,a),this.vectorBucketName=i}async createIndex(s){var r=()=>super.createIndex,i=this;return r().call(i,te(te({},s),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(s={}){var r=()=>super.listIndexes,i=this;return r().call(i,te(te({},s),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(s){var r=()=>super.getIndex,i=this;return r().call(i,i.vectorBucketName,s)}async deleteIndex(s){var r=()=>super.deleteIndex,i=this;return r().call(i,i.vectorBucketName,s)}index(s){return new og(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},og=class extends rg{constructor(s,r,i,a,u){super(s,r,u),this.vectorBucketName=i,this.indexName=a}async putVectors(s){var r=()=>super.putVectors,i=this;return r().call(i,te(te({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(s){var r=()=>super.getVectors,i=this;return r().call(i,te(te({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(s={}){var r=()=>super.listVectors,i=this;return r().call(i,te(te({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(s){var r=()=>super.queryVectors,i=this;return r().call(i,te(te({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(s){var r=()=>super.deleteVectors,i=this;return r().call(i,te(te({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},ag=class extends Zp{constructor(s,r={},i,a){super(s,r,i,a)}from(s){return new Yp(this.url,this.headers,s,this.fetch)}get vectors(){return new ig(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new eg(this.url+"/iceberg",this.headers,this.fetch)}};const Md="2.95.3",pn=30*1e3,Za=3,Fa=Za*pn,lg="http://localhost:9999",ug="supabase.auth.token",cg={"X-Client-Info":`gotrue-js/${Md}`},el="X-Supabase-Api-Version",Bd={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hg=600*1e3;class pi extends Error{constructor(r,i,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=a}}function Y(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class fg extends pi{constructor(r,i,a){super(r,i,a),this.name="AuthApiError",this.status=i,this.code=a}}function pg(s){return Y(s)&&s.name==="AuthApiError"}class jr extends pi{constructor(r,i){super(r),this.name="AuthUnknownError",this.originalError=i}}class Ht extends pi{constructor(r,i,a,u){super(r,a,u),this.name=i,this.status=a}}class dt extends Ht{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wa(s){return Y(s)&&s.name==="AuthSessionMissingError"}class ln extends Ht{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class js extends Ht{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Ns extends Ht{constructor(r,i=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gg(s){return Y(s)&&s.name==="AuthImplicitGrantRedirectError"}class yd extends Ht{constructor(r,i=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vg extends Ht{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class tl extends Ht{constructor(r,i){super(r,"AuthRetryableFetchError",i,void 0)}}function Va(s){return Y(s)&&s.name==="AuthRetryableFetchError"}class wd extends Ht{constructor(r,i,a){super(r,"AuthWeakPasswordError",i,"weak_password"),this.reasons=a}}class rl extends Ht{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ls="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_d=` 	
\r=`.split(""),mg=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<_d.length;r+=1)s[_d[r].charCodeAt(0)]=-2;for(let r=0;r<Ls.length;r+=1)s[Ls[r].charCodeAt(0)]=r;return s})();function Sd(s,r,i){if(s!==null)for(r.queue=r.queue<<8|s,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;i(Ls[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;i(Ls[a]),r.queuedBits-=6}}function Fd(s,r,i){const a=mg[s];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)i(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function kd(s){const r=[],i=h=>{r.push(String.fromCodePoint(h))},a={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=h=>{_g(h,a,i)};for(let h=0;h<s.length;h+=1)Fd(s.charCodeAt(h),u,d);return r.join("")}function yg(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function wg(s,r){for(let i=0;i<s.length;i+=1){let a=s.charCodeAt(i);if(a>55295&&a<=56319){const u=(a-55296)*1024&65535;a=(s.charCodeAt(i+1)-56320&65535|u)+65536,i+=1}yg(a,r)}}function _g(s,r,i){if(r.utf8seq===0){if(s<=127){i(s);return}for(let a=1;a<6;a+=1)if((s>>7-a&1)===0){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&i(r.codepoint)}}function mn(s){const r=[],i={queue:0,queuedBits:0},a=u=>{r.push(u)};for(let u=0;u<s.length;u+=1)Fd(s.charCodeAt(u),i,a);return new Uint8Array(r)}function Sg(s){const r=[];return wg(s,i=>r.push(i)),new Uint8Array(r)}function Nr(s){const r=[],i={queue:0,queuedBits:0},a=u=>{r.push(u)};return s.forEach(u=>Sd(u,i,a)),Sd(null,i,a),r.join("")}function kg(s){return Math.round(Date.now()/1e3)+s}function Eg(){return Symbol("auth-callback")}const We=()=>typeof window<"u"&&typeof document<"u",Rr={tested:!1,writable:!1},Wd=()=>{if(!We())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rr.tested)return Rr.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Rr.tested=!0,Rr.writable=!0}catch{Rr.tested=!0,Rr.writable=!1}return Rr.writable};function bg(s){const r={},i=new URL(s);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((u,d)=>{r[d]=u})}catch{}return i.searchParams.forEach((a,u)=>{r[u]=a}),r}const Vd=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),xg=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",gn=async(s,r,i)=>{await s.setItem(r,JSON.stringify(i))},Or=async(s,r)=>{const i=await s.getItem(r);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Fe=async(s,r)=>{await s.removeItem(r)};class Bs{constructor(){this.promise=new Bs.promiseConstructor((r,i)=>{this.resolve=r,this.reject=i})}}Bs.promiseConstructor=Promise;function Is(s){const r=s.split(".");if(r.length!==3)throw new rl("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!dg.test(r[a]))throw new rl("JWT not in base64url format");return{header:JSON.parse(kd(r[0])),payload:JSON.parse(kd(r[1])),signature:mn(r[2]),raw:{header:r[0],payload:r[1]}}}async function Tg(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function Cg(s,r){return new Promise((a,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const h=await s(d);if(!r(d,null,h)){a(h);return}}catch(h){if(!r(d,h)){u(h);return}}})()})}function Rg(s){return("0"+s.toString(16)).substr(-2)}function Og(){const r=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=i.length;let u="";for(let d=0;d<56;d++)u+=i.charAt(Math.floor(Math.random()*a));return u}return crypto.getRandomValues(r),Array.from(r,Rg).join("")}async function Pg(s){const i=new TextEncoder().encode(s),a=await crypto.subtle.digest("SHA-256",i),u=new Uint8Array(a);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function Ag(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const i=await Pg(s);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function un(s,r,i=!1){const a=Og();let u=a;i&&(u+="/PASSWORD_RECOVERY"),await gn(s,`${r}-code-verifier`,u);const d=await Ag(a);return[d,a===d?"plain":"s256"]}const jg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ng(s){const r=s.headers.get(el);if(!r||!r.match(jg))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Ig(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function Lg(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $g=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cn(s){if(!$g.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qa(){const s={};return new Proxy(s,{get:(r,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const a=i.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Dg(s,r){return new Proxy(s,{get:(i,a,u)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const d=a.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,a,u)}return!r.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(i,a,u)}})}function Ed(s){return JSON.parse(JSON.stringify(s))}const Pr=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Ug=[502,503,504];async function bd(s){var r;if(!xg(s))throw new tl(Pr(s),0);if(Ug.includes(s.status))throw new tl(Pr(s),s.status);let i;try{i=await s.json()}catch(d){throw new jr(Pr(d),d)}let a;const u=Ng(s);if(u&&u.getTime()>=Bd["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?a=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(a=i.error_code),a){if(a==="weak_password")throw new wd(Pr(i),s.status,((r=i.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new dt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,h)=>d&&typeof h=="string",!0))throw new wd(Pr(i),s.status,i.weak_password.reasons);throw new fg(Pr(i),s.status||500,a)}const zg=(s,r,i,a)=>{const u={method:s,headers:r?.headers||{}};return s==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),u.body=JSON.stringify(a),Object.assign(Object.assign({},u),i))};async function ee(s,r,i,a){var u;const d=Object.assign({},a?.headers);d[el]||(d[el]=Bd["2024-01-01"].name),a?.jwt&&(d.Authorization=`Bearer ${a.jwt}`);const h=(u=a?.query)!==null&&u!==void 0?u:{};a?.redirectTo&&(h.redirect_to=a.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await Mg(s,r,i+p,{headers:d,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(g):{data:Object.assign({},g),error:null}}async function Mg(s,r,i,a,u,d){const h=zg(r,a,u,d);let p;try{p=await s(i,Object.assign({},h))}catch(g){throw console.error(g),new tl(Pr(g),0)}if(p.ok||await bd(p),a?.noResolveJson)return p;try{return await p.json()}catch(g){await bd(g)}}function Rt(s){var r;let i=null;Wg(s)&&(i=Object.assign({},s),s.expires_at||(i.expires_at=kg(s.expires_in)));const a=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:i,user:a},error:null}}function xd(s){const r=Rt(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0)&&(r.data.weak_password=s.weak_password),r}function pr(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function Bg(s){return{data:s,error:null}}function Fg(s){const{action_link:r,email_otp:i,hashed_token:a,redirect_to:u,verification_type:d}=s,h=Us(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:i,hashed_token:a,redirect_to:u,verification_type:d},g=Object.assign({},h);return{data:{properties:p,user:g},error:null}}function Td(s){return s}function Wg(s){return s.access_token&&s.refresh_token&&s.expires_in}const Ha=["global","local","others"];class Vg{constructor({url:r="",headers:i={},fetch:a}){this.url=r,this.headers=i,this.fetch=Vd(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,i=Ha[0]){if(Ha.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ha.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Y(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,i={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:pr})}catch(a){if(Y(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:i}=r,a=Us(r,["options"]),u=Object.assign(Object.assign({},a),i);return"newEmail"in a&&(u.new_email=a?.newEmail,delete u.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:Fg,redirectTo:i?.redirectTo})}catch(i){if(Y(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(r){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:pr})}catch(i){if(Y(i))return{data:{user:null},error:i};throw i}}async listUsers(r){var i,a,u,d,h,p,g;try{const m={nextPage:null,lastPage:0,total:0},w=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(i=r?.page)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:"",per_page:(d=(u=r?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:Td});if(w.error)throw w.error;const C=await w.json(),S=(h=w.headers.get("x-total-count"))!==null&&h!==void 0?h:0,T=(g=(p=w.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return T.length>0&&(T.forEach(O=>{const P=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(O.split(";")[1].split("=")[1]);m[`${N}Page`]=P}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},C),m),error:null}}catch(m){if(Y(m))return{data:{users:[]},error:m};throw m}}async getUserById(r){cn(r);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:pr})}catch(i){if(Y(i))return{data:{user:null},error:i};throw i}}async updateUserById(r,i){cn(r);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:i,headers:this.headers,xform:pr})}catch(a){if(Y(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,i=!1){cn(r);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:i},xform:pr})}catch(a){if(Y(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){cn(r.userId);try{const{data:i,error:a}=await ee(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:i,error:a}}catch(i){if(Y(i))return{data:null,error:i};throw i}}async _deleteFactor(r){cn(r.userId),cn(r.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(i){if(Y(i))return{data:null,error:i};throw i}}async _listOAuthClients(r){var i,a,u,d,h,p,g;try{const m={nextPage:null,lastPage:0,total:0},w=await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(i=r?.page)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:"",per_page:(d=(u=r?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:Td});if(w.error)throw w.error;const C=await w.json(),S=(h=w.headers.get("x-total-count"))!==null&&h!==void 0?h:0,T=(g=(p=w.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return T.length>0&&(T.forEach(O=>{const P=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(O.split(";")[1].split("=")[1]);m[`${N}Page`]=P}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},C),m),error:null}}catch(m){if(Y(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(r){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async _getOAuthClient(r){try{return await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async _updateOAuthClient(r,i){try{return await ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:i,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Y(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(r){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Y(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(r){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(Y(i))return{data:null,error:i};throw i}}}function Cd(s={}){return{getItem:r=>s[r]||null,setItem:(r,i)=>{s[r]=i},removeItem:r=>{delete s[r]}}}const dn={debug:!!(globalThis&&Wd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qd extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class qg extends qd{}async function Hg(s,r,i){dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),dn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async u=>{if(u){dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,u.name);try{return await i()}finally{dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,u.name)}}else{if(r===0)throw dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new qg(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(dn.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function Kg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Hd(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function Gg(s){return parseInt(s,16)}function Jg(s){const r=new TextEncoder().encode(s);return"0x"+Array.from(r,a=>a.toString(16).padStart(2,"0")).join("")}function Qg(s){var r;const{chainId:i,domain:a,expirationTime:u,issuedAt:d=new Date,nonce:h,notBefore:p,requestId:g,resources:m,scheme:w,uri:C,version:S}=s;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!C)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((r=s.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const T=Hd(s.address),O=w?`${w}://${a}`:a,P=s.statement?`${s.statement}
`:"",N=`${O} wants you to sign in with your Ethereum account:
${T}

${P}`;let B=`URI: ${C}
Version: ${S}
Chain ID: ${i}${h?`
Nonce: ${h}`:""}
Issued At: ${d.toISOString()}`;if(u&&(B+=`
Expiration Time: ${u.toISOString()}`),p&&(B+=`
Not Before: ${p.toISOString()}`),g&&(B+=`
Request ID: ${g}`),m){let W=`
Resources:`;for(const z of m){if(!z||typeof z!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${z}`);W+=`
- ${z}`}B+=W}return`${N}
${B}`}class je extends Error{constructor({message:r,code:i,cause:a,name:u}){var d;super(r,{cause:a}),this.__isWebAuthnError=!0,this.name=(d=u??(a instanceof Error?a.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=i}}class $s extends je{constructor(r,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:r}),this.name="WebAuthnUnknownError",this.originalError=i}}function Yg({error:s,options:r}){var i,a,u;const{publicKey:d}=r;if(!d)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new je({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((i=d.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new je({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(r.mediation==="conditional"&&((a=d.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new je({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new je({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new je({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new je({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return d.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new je({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new je({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const h=window.location.hostname;if(Kd(h)){if(d.rp.id!==h)return new je({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new je({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new je({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function Xg({error:s,options:r}){const{publicKey:i}=r;if(!i)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new je({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new je({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const a=window.location.hostname;if(Kd(a)){if(i.rpId!==a)return new je({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new je({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new je({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new je({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class Zg{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const ev=new Zg;function tv(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:r,user:i,excludeCredentials:a}=s,u=Us(s,["challenge","user","excludeCredentials"]),d=mn(r).buffer,h=Object.assign(Object.assign({},i),{id:mn(i.id).buffer}),p=Object.assign(Object.assign({},u),{challenge:d,user:h});if(a&&a.length>0){p.excludeCredentials=new Array(a.length);for(let g=0;g<a.length;g++){const m=a[g];p.excludeCredentials[g]=Object.assign(Object.assign({},m),{id:mn(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return p}function rv(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:r,allowCredentials:i}=s,a=Us(s,["challenge","allowCredentials"]),u=mn(r).buffer,d=Object.assign(Object.assign({},a),{challenge:u});if(i&&i.length>0){d.allowCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const p=i[h];d.allowCredentials[h]=Object.assign(Object.assign({},p),{id:mn(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function nv(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const i=s;return{id:s.id,rawId:s.id,response:{attestationObject:Nr(new Uint8Array(s.response.attestationObject)),clientDataJSON:Nr(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(r=i.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function iv(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const i=s,a=s.getClientExtensionResults(),u=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Nr(new Uint8Array(u.authenticatorData)),clientDataJSON:Nr(new Uint8Array(u.clientDataJSON)),signature:Nr(new Uint8Array(u.signature)),userHandle:u.userHandle?Nr(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(r=i.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Kd(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Rd(){var s,r;return!!(We()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function sv(s){try{const r=await navigator.credentials.create(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new $s("Browser returned unexpected credential type",r)}:{data:null,error:new $s("Empty credential response",r)}}catch(r){return{data:null,error:Yg({error:r,options:s})}}}async function ov(s){try{const r=await navigator.credentials.get(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new $s("Browser returned unexpected credential type",r)}:{data:null,error:new $s("Empty credential response",r)}}catch(r){return{data:null,error:Xg({error:r,options:s})}}}const av={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},lv={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ds(...s){const r=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),i=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),a={};for(const u of s)if(u)for(const d in u){const h=u[d];if(h!==void 0)if(Array.isArray(h))a[d]=h;else if(i(h))a[d]=h;else if(r(h)){const p=a[d];r(p)?a[d]=Ds(p,h):a[d]=Ds(h)}else a[d]=h}return a}function uv(s,r){return Ds(av,s,r||{})}function cv(s,r){return Ds(lv,s,r||{})}class dv{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:i,friendlyName:a,signal:u},d){var h;try{const{data:p,error:g}=await this.client.mfa.challenge({factorId:r,webauthn:i});if(!p)return{data:null,error:g};const m=u??ev.createNewAbortSignal();if(p.webauthn.type==="create"){const{user:w}=p.webauthn.credential_options.publicKey;if(!w.name){const C=a;if(C)w.name=`${w.id}:${C}`;else{const T=(await this.client.getUser()).data.user,O=((h=T?.user_metadata)===null||h===void 0?void 0:h.name)||T?.email||T?.id||"User";w.name=`${w.id}:${O}`}}w.displayName||(w.displayName=w.name)}switch(p.webauthn.type){case"create":{const w=uv(p.webauthn.credential_options.publicKey,d?.create),{data:C,error:S}=await sv({publicKey:w,signal:m});return C?{data:{factorId:r,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:C}},error:null}:{data:null,error:S}}case"request":{const w=cv(p.webauthn.credential_options.publicKey,d?.request),{data:C,error:S}=await ov(Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:w,signal:m}));return C?{data:{factorId:r,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:C}},error:null}:{data:null,error:S}}}}catch(p){return Y(p)?{data:null,error:p}:{data:null,error:new jr("Unexpected error in challenge",p)}}}async _verify({challengeId:r,factorId:i,webauthn:a}){return this.client.mfa.verify({factorId:i,challengeId:r,webauthn:a})}async _authenticate({factorId:r,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!i)return{data:null,error:new pi("rpId is required for WebAuthn authentication")};try{if(!Rd())return{data:null,error:new jr("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this.challenge({factorId:r,webauthn:{rpId:i,rpOrigins:a},signal:u},{request:d});if(!h)return{data:null,error:p};const{webauthn:g}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:g.type,rpId:i,rpOrigins:a,credential_response:g.credential_response}})}catch(h){return Y(h)?{data:null,error:h}:{data:null,error:new jr("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!i)return{data:null,error:new pi("rpId is required for WebAuthn registration")};try{if(!Rd())return{data:null,error:new jr("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(w=>{var C;return(C=w.data)===null||C===void 0?void 0:C.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===r&&S.status!=="unverified")}).then(w=>w?this.client.mfa.unenroll({factorId:w?.id}):void 0),{data:null,error:p};const{data:g,error:m}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:i,rpOrigins:a},signal:u},{create:d});return g?this._verify({factorId:h.id,challengeId:g.challengeId,webauthn:{rpId:i,rpOrigins:a,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:m}}catch(h){return Y(h)?{data:null,error:h}:{data:null,error:new jr("Unexpected error in register",h)}}}}Kg();const hv={url:lg,storageKey:ug,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Od(s,r,i){return await i()}const hn={};class gi{get jwks(){var r,i;return(i=(r=hn[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(r){hn[this.storageKey]=Object.assign(Object.assign({},hn[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,i;return(i=(r=hn[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){hn[this.storageKey]=Object.assign(Object.assign({},hn[this.storageKey]),{cachedAt:r})}constructor(r){var i,a,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},hv),r);if(this.storageKey=d.storageKey,this.instanceID=(i=gi.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,gi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&We()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new Vg({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=Vd(d.fetch),this.lock=d.lock||Od,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&We()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=Hg:this.lock=Od,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new dv(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:Wd()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cd(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=Cd(this.memoryStorage)),We()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h);try{await this._notifyAllSubscribers(h.data.event,h.data.session,!1)}catch(p){this._debug("#broadcastChannel","error",p)}})}this.initialize().catch(h=>{this._debug("#initialize()","error",h)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Md}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let i={},a="none";if(We()&&(i=bg(window.location.href),this._isImplicitGrantCallback(i)?a="implicit":await this._isPKCECallback(i)&&(a="pkce")),We()&&this.detectSessionInUrl&&a!=="none"){const{data:u,error:d}=await this._getSessionFromURL(i,a);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),gg(d)){const g=(r=d.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:h,redirectType:p}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return Y(i)?this._returnResult({error:i}):this._returnResult({error:new jr("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var i,a,u;try{const d=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(i=r?.options)===null||i===void 0?void 0:i.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(u=r?.options)===null||u===void 0?void 0:u.captchaToken}},xform:Rt}),{data:h,error:p}=d;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const g=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(d){if(Y(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(r){var i,a,u;try{let d;if("email"in r){const{email:w,password:C,options:S}=r;let T=null,O=null;this.flowType==="pkce"&&([T,O]=await un(this.storage,this.storageKey)),d=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:w,password:C,data:(i=S?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:T,code_challenge_method:O},xform:Rt})}else if("phone"in r){const{phone:w,password:C,options:S}=r;d=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:C,data:(a=S?.data)!==null&&a!==void 0?a:{},channel:(u=S?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:Rt})}else throw new js("You must provide either an email or phone number and a password");const{data:h,error:p}=d;if(p||!h)return await Fe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const g=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(d){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),Y(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(r){try{let i;if("email"in r){const{email:d,password:h,options:p}=r;i=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:xd})}else if("phone"in r){const{phone:d,password:h,options:p}=r;i=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:xd})}else throw new js("You must provide either an email or phone number and a password");const{data:a,error:u}=i;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!a||!a.session||!a.user){const d=new ln;return this._returnResult({data:{user:null,session:null},error:d})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:u})}catch(i){if(Y(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(r){var i,a,u,d;return await this._handleProviderSignIn(r.provider,{redirectTo:(i=r.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=r.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=r.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:i}=r;switch(i){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(r){var i,a,u,d,h,p,g,m,w,C,S;let T,O;if("message"in r)T=r.message,O=r.signature;else{const{chain:P,wallet:N,statement:B,options:W}=r;let z;if(We())if(typeof N=="object")z=N;else{const Ce=window;if("ethereum"in Ce&&typeof Ce.ethereum=="object"&&"request"in Ce.ethereum&&typeof Ce.ethereum.request=="function")z=Ce.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!W?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=N}const Q=new URL((i=W?.url)!==null&&i!==void 0?i:window.location.href),de=await z.request({method:"eth_requestAccounts"}).then(Ce=>Ce).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!de||de.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ie=Hd(de[0]);let oe=(a=W?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!oe){const Ce=await z.request({method:"eth_chainId"});oe=Gg(Ce)}const me={domain:Q.host,address:ie,statement:B,uri:Q.href,version:"1",chainId:oe,nonce:(u=W?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(h=(d=W?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(p=W?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(g=W?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(m=W?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(w=W?.signInWithEthereum)===null||w===void 0?void 0:w.resources};T=Qg(me),O=await z.request({method:"personal_sign",params:[Jg(T),ie]})}try{const{data:P,error:N}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:O},!((C=r.options)===null||C===void 0)&&C.captchaToken?{gotrue_meta_security:{captcha_token:(S=r.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Rt});if(N)throw N;if(!P||!P.session||!P.user){const B=new ln;return this._returnResult({data:{user:null,session:null},error:B})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:N})}catch(P){if(Y(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async signInWithSolana(r){var i,a,u,d,h,p,g,m,w,C,S,T;let O,P;if("message"in r)O=r.message,P=r.signature;else{const{chain:N,wallet:B,statement:W,options:z}=r;let Q;if(We())if(typeof B=="object")Q=B;else{const ie=window;if("solana"in ie&&typeof ie.solana=="object"&&("signIn"in ie.solana&&typeof ie.solana.signIn=="function"||"signMessage"in ie.solana&&typeof ie.solana.signMessage=="function"))Q=ie.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=B}const de=new URL((i=z?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in Q&&Q.signIn){const ie=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z?.signInWithSolana),{version:"1",domain:de.host,uri:de.href}),W?{statement:W}:null));let oe;if(Array.isArray(ie)&&ie[0]&&typeof ie[0]=="object")oe=ie[0];else if(ie&&typeof ie=="object"&&"signedMessage"in ie&&"signature"in ie)oe=ie;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in oe&&"signature"in oe&&(typeof oe.signedMessage=="string"||oe.signedMessage instanceof Uint8Array)&&oe.signature instanceof Uint8Array)O=typeof oe.signedMessage=="string"?oe.signedMessage:new TextDecoder().decode(oe.signedMessage),P=oe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${de.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...W?["",W,""]:[""],"Version: 1",`URI: ${de.href}`,`Issued At: ${(u=(a=z?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=z?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((h=z?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((p=z?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((g=z?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((m=z?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((C=(w=z?.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||C===void 0)&&C.length?["Resources",...z.signInWithSolana.resources.map(oe=>`- ${oe}`)]:[]].join(`
`);const ie=await Q.signMessage(new TextEncoder().encode(O),"utf8");if(!ie||!(ie instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=ie}}try{const{data:N,error:B}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:Nr(P)},!((S=r.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(T=r.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:Rt});if(B)throw B;if(!N||!N.session||!N.user){const W=new ln;return this._returnResult({data:{user:null,session:null},error:W})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:B})}catch(N){if(Y(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(r){const i=await Or(this.storage,`${this.storageKey}-code-verifier`),[a,u]=(i??"").split("/");try{if(!a&&this.flowType==="pkce")throw new vg;const{data:d,error:h}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:Rt});if(await Fe(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!d||!d.session||!d.user){const p=new ln;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:h})}catch(d){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),Y(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(r){try{const{options:i,provider:a,token:u,access_token:d,nonce:h}=r,p=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:u,access_token:d,nonce:h,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Rt}),{data:g,error:m}=p;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g||!g.session||!g.user){const w=new ln;return this._returnResult({data:{user:null,session:null},error:w})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:m})}catch(i){if(Y(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(r){var i,a,u,d,h;try{if("email"in r){const{email:p,options:g}=r;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await un(this.storage,this.storageKey));const{error:C}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(i=g?.data)!==null&&i!==void 0?i:{},create_user:(a=g?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:m,code_challenge_method:w},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:C})}if("phone"in r){const{phone:p,options:g}=r,{data:m,error:w}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(u=g?.data)!==null&&u!==void 0?u:{},create_user:(d=g?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(h=g?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:w})}throw new js("You must provide either an email or phone number.")}catch(p){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),Y(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(r){var i,a;try{let u,d;"options"in r&&(u=(i=r.options)===null||i===void 0?void 0:i.redirectTo,d=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:h,error:p}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:Rt});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,m=h.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(u){if(Y(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(r){var i,a,u,d,h;try{let p=null,g=null;this.flowType==="pkce"&&([p,g]=await un(this.storage,this.storageKey));const m=await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(i=r.options)===null||i===void 0?void 0:i.redirectTo)!==null&&a!==void 0?a:void 0}),!((u=r?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:g}),headers:this.headers,xform:Bg});return!((d=m.data)===null||d===void 0)&&d.url&&We()&&!(!((h=r.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(p){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),Y(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)throw a;if(!i)throw new dt;const{error:u}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(r){if(Y(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const i=`${this.url}/resend`;if("email"in r){const{email:a,type:u,options:d}=r,{error:h}=await ee(this.fetch,"POST",i,{headers:this.headers,body:{email:a,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in r){const{phone:a,type:u,options:d}=r,{data:h,error:p}=await ee(this.fetch,"POST",i,{headers:this.headers,body:{phone:a,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:p})}throw new js("You must provide either an email or phone number and a type")}catch(i){if(Y(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(r,i){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await a,await i()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=i();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await r(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const i=await Or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?r=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<Fa:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const h=await Or(this.userStorage,this.storageKey+"-user");h?.user?r.user=h.user:r.user=qa()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};r.user=Dg(r.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:u,error:d}=await this._callRefreshToken(r.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(r){try{return r?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:pr}):await this._useSession(async i=>{var a,u,d;const{data:h,error:p}=i;if(p)throw p;return!(!((a=h.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dt}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:pr})})}catch(i){if(Y(i))return Wa(i)&&(await this._removeSession(),await Fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(r,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(r,i))}async _updateUser(r,i={}){try{return await this._useSession(async a=>{const{data:u,error:d}=a;if(d)throw d;if(!u.session)throw new dt;const h=u.session;let p=null,g=null;this.flowType==="pkce"&&r.email!=null&&([p,g]=await un(this.storage,this.storageKey));const{data:m,error:w}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:g}),jwt:h.access_token,xform:pr});if(w)throw w;return h.user=m.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(a){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),Y(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new dt;const i=Date.now()/1e3;let a=i,u=!0,d=null;const{payload:h}=Is(r.access_token);if(h.exp&&(a=h.exp,u=a<=i),u){const{data:p,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p)return{data:{user:null,session:null},error:null};d=p}else{const{data:p,error:g}=await this._getUser(r.access_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});d={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:a-i,expires_at:a},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(i){if(Y(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async i=>{var a;if(!r){const{data:h,error:p}=i;if(p)throw p;r=(a=h.session)!==null&&a!==void 0?a:void 0}if(!r?.refresh_token)throw new dt;const{data:u,error:d}=await this._callRefreshToken(r.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(Y(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(r,i){try{if(!We())throw new Ns("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Ns(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new yd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ns("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new yd("No code detected.");const{data:W,error:z}=await this._exchangeCodeForSession(r.code);if(z)throw z;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:W.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:u,access_token:d,refresh_token:h,expires_in:p,expires_at:g,token_type:m}=r;if(!d||!p||!h||!m)throw new Ns("No session defined in URL");const w=Math.round(Date.now()/1e3),C=parseInt(p);let S=w+C;g&&(S=parseInt(g));const T=S-w;T*1e3<=pn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${C}s`);const O=S-C;w-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,S,w):w-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,S,w);const{data:P,error:N}=await this._getUser(d);if(N)throw N;const B={provider_token:a,provider_refresh_token:u,access_token:d,expires_in:C,expires_at:S,refresh_token:h,token_type:m,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:B,redirectType:r.type},error:null})}catch(a){if(Y(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const i=await Or(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&i)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async i=>{var a;const{data:u,error:d}=i;if(d&&!Wa(d))return this._returnResult({error:d});const h=(a=u.session)===null||a===void 0?void 0:a.access_token;if(h){const{error:p}=await this.admin.signOut(h,r);if(p&&!(pg(p)&&(p.status===404||p.status===401||p.status===403)||Wa(p)))return this._returnResult({error:p})}return r!=="others"&&(await this._removeSession(),await Fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const i=Eg(),a={id:i,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async i=>{var a,u;try{const{data:{session:d},error:h}=i;if(h)throw h;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",r,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(r))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",d),console.error(d)}})}async resetPasswordForEmail(r,i={}){let a=null,u=null;this.flowType==="pkce"&&([a,u]=await un(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:u,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),Y(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var r;try{const{data:i,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(r=i.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(i){if(Y(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var i;try{const{data:a,error:u}=await this._useSession(async d=>{var h,p,g,m,w;const{data:C,error:S}=d;if(S)throw S;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",T,{headers:this.headers,jwt:(w=(m=C.session)===null||m===void 0?void 0:m.access_token)!==null&&w!==void 0?w:void 0})});if(u)throw u;return We()&&!(!((i=r.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:r.provider,url:a?.url},error:null})}catch(a){if(Y(a))return this._returnResult({data:{provider:r.provider,url:null},error:a});throw a}}async linkIdentityIdToken(r){return await this._useSession(async i=>{var a;try{const{error:u,data:{session:d}}=i;if(u)throw u;const{options:h,provider:p,token:g,access_token:m,nonce:w}=r,C=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=d?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:p,id_token:g,access_token:m,nonce:w,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Rt}),{data:S,error:T}=C;return T?this._returnResult({data:{user:null,session:null},error:T}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new ln}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:T}))}catch(u){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),Y(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(r){try{return await this._useSession(async i=>{var a,u;const{data:d,error:h}=i;if(h)throw h;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(u=(a=d.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0})})}catch(i){if(Y(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(r){const i=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(i,"begin");try{const a=Date.now();return await Cg(async u=>(u>0&&await Tg(200*Math.pow(2,u-1)),this._debug(i,"refreshing attempt",u),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Rt})),(u,d)=>{const h=200*Math.pow(2,u);return d&&Va(d)&&Date.now()+h-a<pn})}catch(a){if(this._debug(i,"error",a),Y(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(i,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,i){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",i,"url",a),We()&&!i.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,i;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const u=await Or(this.storage,this.storageKey);if(u&&this.userStorage){let h=await Or(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await gn(this.userStorage,this.storageKey+"-user",h)),u.user=(r=h?.user)!==null&&r!==void 0?r:qa()}else if(u&&!u.user&&!u.user){const h=await Or(this.storage,this.storageKey+"-user");h&&h?.user?(u.user=h.user,await Fe(this.storage,this.storageKey+"-user"),await gn(this.storage,this.storageKey,u)):u.user=qa()}if(this._debug(a,"session from storage",u),!this._isValidSession(u)){this._debug(a,"session is not valid"),u!==null&&await this._removeSession();return}const d=((i=u.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Fa;if(this._debug(a,`session has${d?"":" not"} expired with margin of ${Fa}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),Va(h)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(u.access_token);!p&&h?.user?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(a,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(a,"error",u),console.error(u);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var i,a;if(!r)throw new dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Bs;const{data:d,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!d.session)throw new dt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const p={data:d.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(d){if(this._debug(u,"error",d),Y(d)){const h={data:null,error:d};return Va(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(h),h}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(r,i,a=!0){const u=`#_notifyAllSubscribers(${r})`;this._debug(u,"begin",i,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:i});const d=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,i)}catch(g){d.push(g)}});if(await Promise.all(h),d.length>0){for(let p=0;p<d.length;p+=1)console.error(d[p]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await Fe(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},r),a=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&i.user&&await gn(this.userStorage,this.storageKey+"-user",{user:i.user});const u=Object.assign({},i);delete u.user;const d=Ed(u);await gn(this.storage,this.storageKey,d)}else{const u=Ed(i);await gn(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Fe(this.storage,this.storageKey),await Fe(this.storage,this.storageKey+"-code-verifier"),await Fe(this.storage,this.storageKey+"-user"),this.userStorage&&await Fe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&We()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),pn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async i=>{const{data:{session:a}}=i;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((a.expires_at*1e3-r)/pn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${pn}ms, refresh threshold is ${Za} ticks`),u<=Za&&await this._callRefreshToken(a.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof qd)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!We()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(r){this._debug("#visibilityChangedCallback","error",r)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const i=`#_onVisibilityChanged(${r})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,i,a){const u=[`provider=${encodeURIComponent(i)}`];if(a?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&u.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[d,h]=await un(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(p.toString())}if(a?.queryParams){const d=new URLSearchParams(a.queryParams);u.push(d.toString())}return a?.skipBrowserRedirect&&u.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${u.join("&")}`}async _unenroll(r){try{return await this._useSession(async i=>{var a;const{data:u,error:d}=i;return d?this._returnResult({data:null,error:d}):await ee(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token})})}catch(i){if(Y(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(r){try{return await this._useSession(async i=>{var a,u;const{data:d,error:h}=i;if(h)return this._returnResult({data:null,error:h});const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:g,error:m}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(a=d?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(r.factorType==="totp"&&g.type==="totp"&&(!((u=g?.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(i){if(Y(i))return this._returnResult({data:null,error:i});throw i}}async _verify(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var a;const{data:u,error:d}=i;if(d)return this._returnResult({data:null,error:d});const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?nv(r.webauthn.credential_response):iv(r.webauthn.credential_response)})}:{code:r.code}),{data:p,error:g}=await ee(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:g}))})}catch(i){if(Y(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var a;const{data:u,error:d}=i;if(d)return this._returnResult({data:null,error:d});const h=await ee(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});if(h.error)return h;const{data:p}=h;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:tv(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:rv(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(Y(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(r){const{data:i,error:a}=await this._challenge({factorId:r.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:r.factorId,challengeId:i.id,code:r.code})}async _listFactors(){var r;const{data:{user:i},error:a}=await this.getUser();if(a)return{data:null,error:a};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(r=i?.factors)!==null&&r!==void 0?r:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(r){var i,a,u,d;if(r)try{const{payload:T}=Is(r);let O=null;T.aal&&(O=T.aal);let P=O;const{data:{user:N},error:B}=await this.getUser(r);if(B)return this._returnResult({data:null,error:B});((a=(i=N?.factors)===null||i===void 0?void 0:i.filter(Q=>Q.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(P="aal2");const z=T.amr||[];return{data:{currentLevel:O,nextLevel:P,currentAuthenticationMethods:z},error:null}}catch(T){if(Y(T))return this._returnResult({data:null,error:T});throw T}const{data:{session:h},error:p}=await this.getSession();if(p)return this._returnResult({data:null,error:p});if(!h)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:g}=Is(h.access_token);let m=null;g.aal&&(m=g.aal);let w=m;((d=(u=h.user.factors)===null||u===void 0?void 0:u.filter(T=>T.status==="verified"))!==null&&d!==void 0?d:[]).length>0&&(w="aal2");const S=g.amr||[];return{data:{currentLevel:m,nextLevel:w,currentAuthenticationMethods:S},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async i=>{const{data:{session:a},error:u}=i;return u?this._returnResult({data:null,error:u}):a?await ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:a.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new dt})})}catch(i){if(Y(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(r,i){try{return await this._useSession(async a=>{const{data:{session:u},error:d}=a;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new dt});const h=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&We()&&!i?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(a){if(Y(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(r,i){try{return await this._useSession(async a=>{const{data:{session:u},error:d}=a;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new dt});const h=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&We()&&!i?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(a){if(Y(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?await ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new dt})})}catch(r){if(Y(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async i=>{const{data:{session:a},error:u}=i;return u?this._returnResult({data:null,error:u}):a?(await ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new dt})})}catch(i){if(Y(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(r,i={keys:[]}){let a=i.keys.find(p=>p.kid===r);if(a)return a;const u=Date.now();if(a=this.jwks.keys.find(p=>p.kid===r),a&&this.jwks_cached_at+hg>u)return a;const{data:d,error:h}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,a=d.keys.find(p=>p.kid===r),!a)?null:a}async getClaims(r,i={}){try{let a=r;if(!a){const{data:T,error:O}=await this.getSession();if(O||!T.session)return this._returnResult({data:null,error:O});a=T.session.access_token}const{header:u,payload:d,signature:h,raw:{header:p,payload:g}}=Is(a);i?.allowExpired||Ig(d.exp);const m=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!m){const{error:T}=await this.getUser(a);if(T)throw T;return{data:{claims:d,header:u,signature:h},error:null}}const w=Lg(u.alg),C=await crypto.subtle.importKey("jwk",m,w,!0,["verify"]);if(!await crypto.subtle.verify(w,C,h,Sg(`${p}.${g}`)))throw new rl("Invalid JWT signature");return{data:{claims:d,header:u,signature:h},error:null}}catch(a){if(Y(a))return this._returnResult({data:null,error:a});throw a}}}gi.nextInstanceID={};const fv=gi,pv="2.95.3";let ai="";typeof Deno<"u"?ai="deno":typeof document<"u"?ai="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ai="react-native":ai="node";const gv={"X-Client-Info":`supabase-js-${ai}/${pv}`},vv={headers:gv},mv={schema:"public"},yv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wv={};function vi(s){"@babel/helpers - typeof";return vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vi(s)}function _v(s,r){if(vi(s)!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var a=i.call(s,r);if(vi(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function Sv(s){var r=_v(s,"string");return vi(r)=="symbol"?r:r+""}function kv(s,r,i){return(r=Sv(r))in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function Pd(s,r){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);r&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),i.push.apply(i,a)}return i}function Te(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?Pd(Object(i),!0).forEach(function(a){kv(s,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):Pd(Object(i)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(i,a))})}return s}const Ev=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),bv=()=>Headers,xv=(s,r,i)=>{const a=Ev(i),u=bv();return async(d,h)=>{var p;const g=(p=await r())!==null&&p!==void 0?p:s;let m=new u(h?.headers);return m.has("apikey")||m.set("apikey",s),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),a(d,Te(Te({},h),{},{headers:m}))}};function Tv(s){return s.endsWith("/")?s:s+"/"}function Cv(s,r){var i,a;const{db:u,auth:d,realtime:h,global:p}=s,{db:g,auth:m,realtime:w,global:C}=r,S={db:Te(Te({},g),u),auth:Te(Te({},m),d),realtime:Te(Te({},w),h),storage:{},global:Te(Te(Te({},C),p),{},{headers:Te(Te({},(i=C?.headers)!==null&&i!==void 0?i:{}),(a=p?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return s.accessToken?S.accessToken=s.accessToken:delete S.accessToken,S}function Rv(s){const r=s?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Tv(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Ov=class extends fv{constructor(s){super(s)}},Pv=class{constructor(s,r,i){var a,u;this.supabaseUrl=s,this.supabaseKey=r;const d=Rv(s);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:mv,realtime:wv,auth:Te(Te({},yv),{},{storageKey:h}),global:vv},g=Cv(i??{},p);if(this.storageKey=(a=g.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(u=g.global.headers)!==null&&u!==void 0?u:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(w,C)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(C)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=g.auth)!==null&&m!==void 0?m:{},this.headers,g.global.fetch)}this.fetch=xv(r,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Te({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new pp(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch,timeout:g.db.timeout,urlLengthLimit:g.db.urlLengthLimit}),this.storage=new ag(this.storageUrl.href,this.headers,this.fetch,i?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new op(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,r={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,r,i)}channel(s,r={config:{}}){return this.realtime.channel(s,r)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,r,i;if(s.accessToken)return await s.accessToken();const{data:a}=await s.auth.getSession();return(r=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:r,detectSessionInUrl:i,storage:a,userStorage:u,storageKey:d,flowType:h,lock:p,debug:g,throwOnError:m},w,C){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ov({url:this.authUrl.href,headers:Te(Te({},S),w),storageKey:d,autoRefreshToken:s,persistSession:r,detectSessionInUrl:i,storage:a,userStorage:u,flowType:h,lock:p,debug:g,throwOnError:m,fetch:C,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new Ap(this.realtimeUrl.href,Te(Te({},s),{},{params:Te(Te({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r?.access_token)})}_handleTokenChanged(s,r,i){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Av=(s,r,i)=>new Pv(s,r,i);function jv(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const r=s.version;if(r==null)return!1;const i=r.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}jv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Nv="https://adrggnyapfoxoebdbuqf.supabase.co",Iv="git rm -r --cached node_modules",oi=Av(Nv,Iv);function Lv(){const[s,r]=Ve.useState("light"),[i,a]=Ve.useState("30d"),[u,d]=Ve.useState(25),[h,p]=Ve.useState(1),[g,m]=Ve.useState(""),[w,C]=Ve.useState([]),[S,T]=Ve.useState({totalSignups:0,activated:0,converted:0,activationRate:0,avgTimeToActivation:0,prevSignups:0,prevActivated:0,prevConverted:0,prevAvgTime:0}),[O,P]=Ve.useState(!1),N=()=>{P(!0)},[B,W]=Ve.useState(0),[z,Q]=Ve.useState(!0);Ve.useEffect(()=>{oi.auth.getSession().then(({data:D})=>{D.session&&P(!0)})},[]);const de=D=>{const F=new Date;F.toISOString();let $,q,M;switch(D){case"today":$=new Date(F.setHours(0,0,0,0)).toISOString(),q=new Date(F.setDate(F.getDate()-1)).toISOString(),M=new Date(F.setHours(23,59,59,999)).toISOString();break;case"7d":$=new Date(F.setDate(F.getDate()-7)).toISOString(),q=new Date(F.setDate(F.getDate()-7)).toISOString(),M=$;break;case"30d":$=new Date(F.setDate(F.getDate()-30)).toISOString(),q=new Date(F.setDate(F.getDate()-30)).toISOString(),M=$;break;case"90d":$=new Date(F.setDate(F.getDate()-90)).toISOString(),q=new Date(F.setDate(F.getDate()-90)).toISOString(),M=$;break;case"ytd":$=new Date(F.getFullYear(),0,1).toISOString(),q=new Date(F.getFullYear()-1,0,1).toISOString(),M=new Date(F.getFullYear()-1,11,31).toISOString();break;default:$=new Date(F.setDate(F.getDate()-30)).toISOString()}return{start:$,end:new Date().toISOString(),prevStart:q,prevEnd:M}},ie=async()=>{const{start:D,end:F,prevStart:$,prevEnd:q}=de(i),{data:M,error:k}=await oi.from("signups").select("*",{count:"exact"}).gte("signup_date",D).lte("signup_date",F),{data:A}=await oi.from("signups").select("*",{count:"exact"}).gte("signup_date",$).lte("signup_date",q);if(k){console.error("Error fetching metrics:",k);return}const re=M||[],se=A||[],le=re.filter(Pe=>Pe.activation_date).length,ue=re.filter(Pe=>["pro","enterprise"].includes(Pe.current_plan)).length,ge=se.filter(Pe=>Pe.activation_date).length,fe=se.filter(Pe=>["pro","enterprise"].includes(Pe.current_plan)).length,ve=re.filter(Pe=>Pe.activation_date),Ye=ve.length>0?ve.reduce((Pe,$t)=>{const Ir=new Date($t.activation_date)-new Date($t.signup_date);return Pe+Ir},0)/ve.length:0,Kt=se.filter(Pe=>Pe.activation_date),yi=Kt.length>0?Kt.reduce((Pe,$t)=>{const Ir=new Date($t.activation_date)-new Date($t.signup_date);return Pe+Ir},0)/Kt.length:0;T({totalSignups:re.length,activated:le,converted:ue,activationRate:re.length>0?(le/re.length*100).toFixed(1):0,prevSignups:se.length,prevActivated:ge,prevConverted:fe,avgTimeToActivation:Ce(Ye),prevAvgTime:Ce(yi)})},oe=async()=>{Q(!0);const{start:D,end:F}=de(i),$=(h-1)*u;let q=oi.from("signups").select("*",{count:"exact"}).gte("signup_date",D).lte("signup_date",F).order("signup_date",{ascending:!1}).range($,$+u-1);g&&(q=q.or(`email.ilike.%${g}%,business_name.ilike.%${g}%,country.ilike.%${g}%`));const{data:M,error:k,count:A}=await q;k?console.error("Error fetching signups:",k):(C(M||[]),W(A||0)),Q(!1)};Ve.useEffect(()=>{ie(),oe()},[i]),Ve.useEffect(()=>{oe()},[h,u,g]);const me=D=>{if(!D)return"";const F=new Date(D),$=String(F.getDate()).padStart(2,"0"),q=String(F.getMonth()+1).padStart(2,"0"),M=String(F.getFullYear()).slice(-2),k=F.getHours(),A=String(F.getMinutes()).padStart(2,"0"),re=k>=12?"PM":"AM",se=k%12||12;return`${$}/${q}/${M} ${String(se).padStart(2,"0")}:${A} ${re}`},Ce=D=>{if(!D||D<=0)return"0d 0h 0m";const F=Math.floor(D/(1e3*60)),$=Math.floor(F/1440),q=Math.floor(F%1440/60),M=F%60;return`${$}d ${q}h ${M}m`},Ne=(D,F)=>F===0?D>0?100:0:((D-F)/F*100).toFixed(0),Je=Math.ceil(B/u),ft=()=>{const D=[];if(Je<=7)for(let F=1;F<=Je;F++)D.push(F);else{D.push(1),h>3&&D.push("...");for(let F=Math.max(2,h-1);F<=Math.min(Je-1,h+1);F++)D.push(F);h<Je-2&&D.push("..."),D.push(Je)}return D},Qe=D=>{switch(D){case"free":return"plan-badge free";case"free_trial":return"plan-badge trial";case"pro":case"enterprise":return"plan-badge paid";case"churned":return"plan-badge churned";default:return"plan-badge free"}},ot=D=>{switch(D){case"free":return"Free";case"free_trial":return"Free Trial";case"pro":return"Pro";case"enterprise":return"Enterprise";case"churned":return"Churned";default:return D}},pt=D=>{switch(D){case"app_store":return"App Store";case"google_search":return"Google Search";case"direct":return"Direct";case"referral":return"Referral";case"paid_ads":return"Paid Ads";default:return D||""}};return O?R.jsxs("div",{className:`dashboard ${s}`,"data-theme":s,children:[R.jsx("style",{children:`
        :root {
          --bg-primary: #f8f9fa;
          --bg-secondary: #ffffff;
          --bg-tertiary: #e9ecef;
          --bg-card: #ffffff;
          --border: #dee2e6;
          --text-primary: #212529;
          --text-secondary: #495057;
          --text-muted: #868e96;
          --accent-blue: #3b82f6;
          --accent-green: #10b981;
          --accent-amber: #f59e0b;
          --accent-red: #ef4444;
          --accent-purple: #8b5cf6;
          --shadow: 0 1px 3px rgba(0,0,0,0.08);
          --shadow-hover: 0 4px 12px rgba(0,0,0,0.1);
        }

        [data-theme="dark"] {
          --bg-primary: #0a0a0b;
          --bg-secondary: #121214;
          --bg-tertiary: #1a1a1d;
          --bg-card: #16161a;
          --border: #2a2a2e;
          --text-primary: #fafafa;
          --text-secondary: #a0a0a5;
          --text-muted: #6a6a6f;
          --shadow: 0 1px 3px rgba(0,0,0,0.3);
          --shadow-hover: 0 4px 12px rgba(0,0,0,0.4);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        .dashboard {
          font-family: 'DM Sans', -apple-system, sans-serif;
          background: var(--bg-primary);
          color: var(--text-primary);
          min-height: 100vh;
          line-height: 1.5;
          transition: background 0.3s, color 0.3s;
          max-width: 1400px;
          margin: 0 auto;
          padding: 40px 32px;
        }

        .header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 48px;
          flex-wrap: wrap;
          gap: 20px;
        }

        .header-left h1 {
          font-size: 28px;
          font-weight: 600;
          letter-spacing: -0.5px;
          margin-bottom: 4px;
        }

        .header-left p {
          color: var(--text-secondary);
          font-size: 14px;
        }

        .header-right {
          display: flex;
          gap: 12px;
          align-items: center;
          flex-wrap: wrap;
        }

        .date-filter {
          display: flex;
          background: var(--bg-tertiary);
          border-radius: 8px;
          padding: 4px;
          gap: 4px;
        }

        .date-filter button {
          font-family: inherit;
          font-size: 13px;
          padding: 8px 16px;
          border: none;
          background: transparent;
          color: var(--text-secondary);
          border-radius: 6px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .date-filter button:hover { color: var(--text-primary); }

        .date-filter button.active {
          background: var(--bg-card);
          color: var(--text-primary);
          box-shadow: var(--shadow);
        }

        .header-btn {
          font-family: inherit;
          font-size: 13px;
          padding: 10px 16px;
          border: 1px solid var(--border);
          background: var(--bg-secondary);
          color: var(--text-secondary);
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.2s;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .header-btn:hover {
          border-color: var(--text-muted);
          color: var(--text-primary);
        }

        .theme-toggle {
          display: flex;
          align-items: center;
          gap: 8px;
          padding: 8px 12px;
          background: var(--bg-tertiary);
          border-radius: 8px;
          cursor: pointer;
          border: 1px solid var(--border);
        }

        .theme-toggle-track {
          width: 44px;
          height: 24px;
          background: var(--border);
          border-radius: 12px;
          position: relative;
          transition: background 0.3s;
        }

        .theme-toggle-thumb {
          width: 20px;
          height: 20px;
          background: var(--bg-card);
          border-radius: 50%;
          position: absolute;
          top: 2px;
          left: 2px;
          transition: transform 0.3s;
          box-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }

        [data-theme="dark"] .theme-toggle-thumb { transform: translateX(20px); }
        [data-theme="dark"] .theme-toggle-track { background: var(--accent-blue); }

        .theme-toggle-label {
          font-size: 13px;
          color: var(--text-secondary);
        }

        .metrics-grid {
          display: grid;
          grid-template-columns: repeat(5, 1fr);
          gap: 16px;
          margin-bottom: 32px;
        }

        .metric-card {
          background: var(--bg-card);
          border: 1px solid var(--border);
          border-radius: 12px;
          padding: 24px;
          position: relative;
          overflow: hidden;
          box-shadow: var(--shadow);
          transition: box-shadow 0.2s;
        }

        .metric-card:hover { box-shadow: var(--shadow-hover); }

        .metric-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 3px;
          background: var(--accent-blue);
          opacity: 0;
          transition: opacity 0.2s;
        }

        .metric-card:hover::before { opacity: 1; }
        .metric-card.green::before { background: var(--accent-green); }
        .metric-card.amber::before { background: var(--accent-amber); }
        .metric-card.purple::before { background: var(--accent-purple); }

        .metric-label {
          font-size: 12px;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          color: var(--text-muted);
          margin-bottom: 12px;
          font-weight: 500;
        }

        .metric-value {
          font-family: 'JetBrains Mono', monospace;
          font-size: 36px;
          font-weight: 500;
          letter-spacing: -1px;
          margin-bottom: 8px;
        }

        .metric-card.green .metric-value { color: var(--accent-green); }
        .metric-card.amber .metric-value { color: var(--accent-amber); }
        .metric-card.purple .metric-value { color: var(--accent-purple); }

        .metric-change {
          font-size: 13px;
          color: var(--text-secondary);
          display: flex;
          align-items: center;
          gap: 4px;
        }

        .metric-change.up { color: var(--accent-green); }
        .metric-change.down { color: var(--accent-red); }

        .section-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
        }

        .section-title {
          font-size: 16px;
          font-weight: 600;
          color: var(--text-primary);
        }

        .funnel-bar {
          display: flex;
          height: 48px;
          background: var(--bg-secondary);
          border-radius: 8px;
          overflow: hidden;
          margin-bottom: 40px;
          border: 1px solid var(--border);
        }

        .funnel-segment {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          font-size: 13px;
          font-weight: 500;
          color: #fff;
          transition: all 0.3s;
        }

        .funnel-segment:hover { filter: brightness(1.1); }
        .funnel-segment.signups { background: var(--accent-blue); flex: 1; }
        .funnel-segment.activated { background: var(--accent-green); }
        .funnel-segment.converted { background: var(--accent-purple); }
        .funnel-segment .num { font-family: 'JetBrains Mono', monospace; font-weight: 600; }

        .table-container {
          background: var(--bg-card);
          border: 1px solid var(--border);
          border-radius: 12px;
          overflow: hidden;
          box-shadow: var(--shadow);
        }

        .table-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 20px 24px;
          border-bottom: 1px solid var(--border);
          flex-wrap: wrap;
          gap: 12px;
        }

        .table-header h3 { font-size: 15px; font-weight: 600; }

        .table-controls {
          display: flex;
          gap: 12px;
          align-items: center;
          flex-wrap: wrap;
        }

        .search-input {
          font-family: inherit;
          font-size: 13px;
          padding: 10px 14px 10px 36px;
          border: 1px solid var(--border);
          background: var(--bg-secondary);
          color: var(--text-primary);
          border-radius: 8px;
          width: 260px;
          outline: none;
          transition: border-color 0.2s;
        }

        .search-input::placeholder { color: var(--text-muted); }
        .search-input:focus { border-color: var(--accent-blue); }

        .records-select {
          font-family: inherit;
          font-size: 13px;
          padding: 10px 32px 10px 14px;
          border: 1px solid var(--border);
          background: var(--bg-secondary);
          color: var(--text-primary);
          border-radius: 8px;
          cursor: pointer;
          outline: none;
        }

        .filter-btn {
          font-family: inherit;
          font-size: 13px;
          padding: 10px 14px;
          border: 1px solid var(--border);
          background: var(--bg-secondary);
          color: var(--text-secondary);
          border-radius: 8px;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 6px;
          transition: all 0.2s;
        }

        .filter-btn:hover {
          border-color: var(--text-muted);
          color: var(--text-primary);
        }

        .table-wrapper { overflow-x: auto; }

        table {
          width: 100%;
          border-collapse: collapse;
          min-width: 1600px;
        }

        thead { background: var(--bg-tertiary); }

        th {
          text-align: left;
          padding: 14px 16px;
          font-size: 11px;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          color: var(--text-muted);
          font-weight: 600;
          border-bottom: 1px solid var(--border);
          white-space: nowrap;
        }

        td {
          padding: 14px 16px;
          font-size: 14px;
          border-bottom: 1px solid var(--border);
          color: var(--text-secondary);
          white-space: nowrap;
        }

        tr:last-child td { border-bottom: none; }
        tr:hover { background: var(--bg-tertiary); }

        .email-cell { color: var(--text-primary); font-weight: 500; }

        .plan-badge {
          padding: 4px 10px;
          border-radius: 6px;
          font-size: 12px;
          font-weight: 500;
          display: inline-block;
        }

        .plan-badge.free { background: var(--bg-tertiary); color: var(--text-secondary); }
        .plan-badge.trial { background: rgba(59, 130, 246, 0.15); color: var(--accent-blue); }
        .plan-badge.paid { background: rgba(139, 92, 246, 0.15); color: var(--accent-purple); }
        .plan-badge.churned { background: rgba(239, 68, 68, 0.15); color: var(--accent-red); }

        .source-tag { font-size: 12px; color: var(--text-muted); }
        .mono { font-family: 'JetBrains Mono', monospace; font-size: 12px; }

        .link-cell {
          color: var(--accent-blue);
          text-decoration: none;
          font-size: 12px;
          font-weight: 500;
          padding: 4px 8px;
          border-radius: 4px;
          background: rgba(59, 130, 246, 0.1);
          transition: all 0.2s;
          display: inline-block;
        }

        .link-cell:hover {
          background: rgba(59, 130, 246, 0.2);
          text-decoration: none;
        }

        .link-cell.admin-link {
          color: var(--accent-purple);
          background: rgba(139, 92, 246, 0.1);
        }

        .link-cell.admin-link:hover {
          background: rgba(139, 92, 246, 0.2);
        }

        .table-footer {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 16px 24px;
          border-top: 1px solid var(--border);
          background: var(--bg-tertiary);
          flex-wrap: wrap;
          gap: 12px;
        }

        .table-footer span { font-size: 13px; color: var(--text-muted); }

        .pagination { display: flex; gap: 4px; }

        .pagination button {
          font-family: inherit;
          font-size: 13px;
          padding: 8px 12px;
          border: 1px solid var(--border);
          background: var(--bg-card);
          color: var(--text-secondary);
          border-radius: 6px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .pagination button:hover {
          border-color: var(--text-muted);
          color: var(--text-primary);
        }

        .pagination button.active {
          background: var(--accent-blue);
          border-color: var(--accent-blue);
          color: white;
        }

        .pagination button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .loading {
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 60px;
          color: var(--text-muted);
        }

        @media (max-width: 1200px) {
          .metrics-grid { grid-template-columns: repeat(3, 1fr); }
        }

        @media (max-width: 768px) {
          .dashboard { padding: 24px 16px; }
          .header { flex-direction: column; }
          .metrics-grid { grid-template-columns: repeat(2, 1fr); }
          .search-input { width: 100%; }
        }
      `}),R.jsxs("header",{className:"header",children:[R.jsxs("div",{className:"header-left",children:[R.jsx("h1",{children:"Company Dashboard"}),R.jsx("p",{children:"AeroChat Signups & Activation Metrics"})]}),R.jsxs("div",{className:"header-right",children:[R.jsx("div",{className:"date-filter",children:[{key:"today",label:"Today"},{key:"7d",label:"7 Days"},{key:"30d",label:"30 Days"},{key:"90d",label:"90 Days"},{key:"ytd",label:"YTD"}].map(({key:D,label:F})=>R.jsx("button",{className:i===D?"active":"",onClick:()=>{a(D),p(1)},children:F},D))}),R.jsx("button",{className:"header-btn",onClick:()=>{ie(),oe()},children:" Refresh"}),R.jsx("button",{className:"header-btn",onClick:async()=>{await oi.auth.signOut(),P(!1)},children:"Logout"}),R.jsxs("div",{className:"theme-toggle",onClick:()=>r(s==="light"?"dark":"light"),children:[R.jsx("span",{className:"theme-toggle-label",children:""}),R.jsx("div",{className:"theme-toggle-track",children:R.jsx("div",{className:"theme-toggle-thumb"})}),R.jsx("span",{className:"theme-toggle-label",children:""})]})]})]}),R.jsxs("div",{className:"metrics-grid",children:[R.jsxs("div",{className:"metric-card",children:[R.jsx("div",{className:"metric-label",children:"Total Signups"}),R.jsx("div",{className:"metric-value",children:S.totalSignups}),R.jsxs("div",{className:`metric-change ${Number(Ne(S.totalSignups,S.prevSignups))>=0?"up":"down"}`,children:[Number(Ne(S.totalSignups,S.prevSignups))>=0?"":""," ",Math.abs(Ne(S.totalSignups,S.prevSignups)),"% vs prev period"]})]}),R.jsxs("div",{className:"metric-card green",children:[R.jsx("div",{className:"metric-label",children:"Activated"}),R.jsx("div",{className:"metric-value",children:S.activated}),R.jsxs("div",{className:`metric-change ${Number(Ne(S.activated,S.prevActivated))>=0?"up":"down"}`,children:[Number(Ne(S.activated,S.prevActivated))>=0?"":""," ",Math.abs(Ne(S.activated,S.prevActivated)),"% vs prev period"]})]}),R.jsxs("div",{className:"metric-card purple",children:[R.jsx("div",{className:"metric-label",children:"Converted"}),R.jsx("div",{className:"metric-value",children:S.converted}),R.jsxs("div",{className:`metric-change ${Number(Ne(S.converted,S.prevConverted))>=0?"up":"down"}`,children:[Number(Ne(S.converted,S.prevConverted))>=0?"":""," ",Math.abs(Ne(S.converted,S.prevConverted)),"% vs prev period"]})]}),R.jsxs("div",{className:"metric-card amber",children:[R.jsx("div",{className:"metric-label",children:"Activation Rate"}),R.jsxs("div",{className:"metric-value",children:[S.activationRate,"%"]}),R.jsx("div",{className:"metric-change",children:"Target: 25%"})]}),R.jsxs("div",{className:"metric-card",children:[R.jsx("div",{className:"metric-label",children:"Avg Time to Activation"}),R.jsx("div",{className:"metric-value",children:S.avgTimeToActivation}),R.jsxs("div",{className:`metric-change ${Number(S.avgTimeToActivation)<=Number(S.prevAvgTime)?"up":"down"}`,children:[Number(S.avgTimeToActivation)<=Number(S.prevAvgTime)?"":""," ",Math.abs(S.avgTimeToActivation-S.prevAvgTime).toFixed(1),"d vs prev period"]})]})]}),R.jsx("div",{className:"section-header",children:R.jsx("h2",{className:"section-title",children:"Conversion Funnel"})}),R.jsxs("div",{className:"funnel-bar",children:[R.jsxs("div",{className:"funnel-segment signups",children:[R.jsx("span",{className:"num",children:S.totalSignups})," Signups"]}),R.jsxs("div",{className:"funnel-segment activated",style:{flex:S.totalSignups>0?S.activated/S.totalSignups:.01},children:[R.jsx("span",{className:"num",children:S.activated})," Activated (",S.activationRate,"%)"]}),R.jsxs("div",{className:"funnel-segment converted",style:{flex:S.totalSignups>0?Math.max(S.converted/S.totalSignups,.02):.01},children:[R.jsx("span",{className:"num",children:S.converted})," Paid (",S.totalSignups>0?(S.converted/S.totalSignups*100).toFixed(1):0,"%)"]})]}),R.jsxs("div",{className:"table-container",children:[R.jsxs("div",{className:"table-header",children:[R.jsx("h3",{children:"All Signups"}),R.jsxs("div",{className:"table-controls",children:[R.jsx("input",{type:"text",className:"search-input",placeholder:" Search by email, business, or country...",value:g,onChange:D=>{m(D.target.value),p(1)}}),R.jsxs("select",{className:"records-select",value:u,onChange:D=>{d(Number(D.target.value)),p(1)},children:[R.jsx("option",{value:25,children:"25 per page"}),R.jsx("option",{value:50,children:"50 per page"}),R.jsx("option",{value:100,children:"100 per page"})]}),R.jsx("button",{className:"filter-btn",children:" Filters"}),R.jsx("button",{className:"filter-btn",children:" Export"})]})]}),R.jsx("div",{className:"table-wrapper",children:z?R.jsx("div",{className:"loading",children:"Loading..."}):R.jsxs("table",{children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"Email"}),R.jsx("th",{children:"Contact Number"}),R.jsx("th",{children:"Business Name"}),R.jsx("th",{children:"Website"}),R.jsx("th",{children:"Admin"}),R.jsx("th",{children:"Country"}),R.jsx("th",{children:"Signup Date"}),R.jsx("th",{children:"Churned Date"}),R.jsx("th",{children:"Last Login"}),R.jsx("th",{children:"Plan"}),R.jsx("th",{children:"Type"}),R.jsx("th",{children:"Source"}),R.jsx("th",{children:"Activation Date"}),R.jsx("th",{children:"First Chat Date"}),R.jsx("th",{children:"No. of Chats"}),R.jsx("th",{children:"No. of Customers"})]})}),R.jsx("tbody",{children:w.map(D=>R.jsxs("tr",{children:[R.jsx("td",{className:"email-cell",children:D.email}),R.jsx("td",{className:"mono",children:D.contact_number||""}),R.jsx("td",{children:D.business_name||""}),R.jsx("td",{children:D.website_url?R.jsx("a",{href:D.website_url,target:"_blank",rel:"noopener noreferrer",className:"link-cell",children:" Visit"}):""}),R.jsx("td",{children:D.admin_url?R.jsx("a",{href:D.admin_url,target:"_blank",rel:"noopener noreferrer",className:"link-cell admin-link",children:" Admin"}):""}),R.jsx("td",{children:D.country||""}),R.jsx("td",{className:"mono",children:me(D.signup_date)}),R.jsx("td",{className:"mono",children:me(D.churned_date)}),R.jsx("td",{className:"mono",children:me(D.last_login)}),R.jsx("td",{children:R.jsx("span",{className:Qe(D.current_plan),children:ot(D.current_plan)})}),R.jsx("td",{children:D.type?D.type.charAt(0).toUpperCase()+D.type.slice(1):""}),R.jsx("td",{className:"source-tag",children:pt(D.source)}),R.jsx("td",{className:"mono",children:me(D.activation_date)}),R.jsx("td",{className:"mono",children:me(D.first_chat_date)}),R.jsx("td",{className:"mono",children:D.num_chats||0}),R.jsx("td",{className:"mono",children:D.num_customers||0})]},D.id))})]})}),R.jsxs("div",{className:"table-footer",children:[R.jsxs("span",{children:["Showing ",(h-1)*u+1,"",Math.min(h*u,B)," of ",B," signups"]}),R.jsxs("div",{className:"pagination",children:[R.jsx("button",{onClick:()=>p(D=>Math.max(1,D-1)),disabled:h===1,children:""}),ft().map((D,F)=>R.jsx("button",{className:h===D?"active":"",onClick:()=>typeof D=="number"&&p(D),disabled:D==="...",children:D},F)),R.jsx("button",{onClick:()=>p(D=>Math.min(Je,D+1)),disabled:h===Je,children:""})]})]})]})]}):R.jsx(rp,{onLogin:N})}tp.createRoot(document.getElementById("root")).render(R.jsx(Gf.StrictMode,{children:R.jsx(Lv,{})}));
